# Part 38: Phase 16 Remediation Batching

## Purpose

Turn security inventory data into deterministic remediation work packets and synchronize those packets into actionable GitHub issues.

## Implementation

1. Batch planner script
- File: `scripts/dependabot_remediation_plan.py`
- Input:
  - Dependabot summary JSON generated by `scripts/dependabot_alert_inventory.py`
- Output:
  - prioritized remediation batches grouped by `(ecosystem, manifest_path)`
  - severity counts, package concentration, suggested branch/PR title
  - JSON + Markdown reports

2. Issue sync script
- File: `scripts/sync_security_remediation_issues.py`
- Behavior:
  - reads remediation plan JSON
  - creates missing batch issues
  - updates changed issue bodies/titles
  - closes stale batch issues
  - closes duplicate keyed issues
- Idempotence:
  - issue key marker: `<!-- eidos-security-remediation-batch:<key> -->`

3. Workflow integration
- File: `.github/workflows/security-audit.yml`
- New runtime stages:
  - remediation batch plan generation
  - remediation issue synchronization
  - summary enrichment with remediation batch counts

4. Tests
- `scripts/tests/test_dependabot_remediation_plan.py`
- `scripts/tests/test_sync_security_remediation_issues.py`

## Quality and Safety

- Deterministic grouping and ordering by severity-weighted priority score.
- No dependency on mutable local state for synchronization decisions.
- Artifact trail includes summary JSON, plan JSON/MD, and sync report JSON.
