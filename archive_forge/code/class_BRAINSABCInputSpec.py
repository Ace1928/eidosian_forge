import os
from ...base import (
class BRAINSABCInputSpec(CommandLineInputSpec):
    inputVolumes = InputMultiPath(File(exists=True), desc='The list of input image files to be segmented.', argstr='--inputVolumes %s...')
    atlasDefinition = File(desc='Contains all parameters for Atlas', exists=True, argstr='--atlasDefinition %s')
    restoreState = File(desc='The initial state for the registration process', exists=True, argstr='--restoreState %s')
    saveState = traits.Either(traits.Bool, File(), hash_files=False, desc='(optional) Filename to which save the final state of the registration', argstr='--saveState %s')
    inputVolumeTypes = InputMultiPath(traits.Str, desc='The list of input image types corresponding to the inputVolumes.', sep=',', argstr='--inputVolumeTypes %s')
    outputDir = traits.Either(traits.Bool, Directory(), hash_files=False, desc='Output directory', argstr='--outputDir %s')
    atlasToSubjectTransformType = traits.Enum('Identity', 'Rigid', 'Affine', 'BSpline', 'SyN', desc=' What type of linear transform type do you want to use to register the atlas to the reference subject image.', argstr='--atlasToSubjectTransformType %s')
    atlasToSubjectTransform = traits.Either(traits.Bool, File(), hash_files=False, desc='The transform from atlas to the subject', argstr='--atlasToSubjectTransform %s')
    atlasToSubjectInitialTransform = traits.Either(traits.Bool, File(), hash_files=False, desc='The initial transform from atlas to the subject', argstr='--atlasToSubjectInitialTransform %s')
    subjectIntermodeTransformType = traits.Enum('Identity', 'Rigid', 'Affine', 'BSpline', desc=' What type of linear transform type do you want to use to register the atlas to the reference subject image.', argstr='--subjectIntermodeTransformType %s')
    outputVolumes = traits.Either(traits.Bool, InputMultiPath(File()), hash_files=False, desc='Corrected Output Images: should specify the same number of images as inputVolume, if only one element is given, then it is used as a file pattern where %s is replaced by the imageVolumeType, and %d by the index list location.', argstr='--outputVolumes %s...')
    outputLabels = traits.Either(traits.Bool, File(), hash_files=False, desc='Output Label Image', argstr='--outputLabels %s')
    outputDirtyLabels = traits.Either(traits.Bool, File(), hash_files=False, desc='Output Dirty Label Image', argstr='--outputDirtyLabels %s')
    posteriorTemplate = traits.Str(desc='filename template for Posterior output files', argstr='--posteriorTemplate %s')
    outputFormat = traits.Enum('NIFTI', 'Meta', 'Nrrd', desc='Output format', argstr='--outputFormat %s')
    interpolationMode = traits.Enum('BSpline', 'NearestNeighbor', 'WindowedSinc', 'Linear', 'ResampleInPlace', 'Hamming', 'Cosine', 'Welch', 'Lanczos', 'Blackman', desc='Type of interpolation to be used when applying transform to moving volume.  Options are Linear, NearestNeighbor, BSpline, WindowedSinc, or ResampleInPlace.  The ResampleInPlace option will create an image with the same discrete voxel values and will adjust the origin and direction of the physical space interpretation.', argstr='--interpolationMode %s')
    maxIterations = traits.Int(desc='Filter iterations', argstr='--maxIterations %d')
    medianFilterSize = InputMultiPath(traits.Int, desc='The radius for the optional MedianImageFilter preprocessing in all 3 directions.', sep=',', argstr='--medianFilterSize %s')
    filterIteration = traits.Int(desc='Filter iterations', argstr='--filterIteration %d')
    filterTimeStep = traits.Float(desc='Filter time step should be less than (PixelSpacing/(1^(DIM+1)), value is set to negative, then allow automatic setting of this value. ', argstr='--filterTimeStep %f')
    filterMethod = traits.Enum('None', 'CurvatureFlow', 'GradientAnisotropicDiffusion', 'Median', desc='Filter method for preprocessing of registration', argstr='--filterMethod %s')
    maxBiasDegree = traits.Int(desc='Maximum bias degree', argstr='--maxBiasDegree %d')
    useKNN = traits.Bool(desc='Use the KNN stage of estimating posteriors.', argstr='--useKNN ')
    purePlugsThreshold = traits.Float(desc='If this threshold value is greater than zero, only pure samples are used to compute the distributions in EM classification, and only pure samples are used for KNN training. The default value is set to 0, that means not using pure plugs. However, a value of 0.2 is suggested if you want to activate using pure plugs option.', argstr='--purePlugsThreshold %f')
    numberOfSubSamplesInEachPlugArea = InputMultiPath(traits.Int, desc='Number of continuous index samples taken at each direction of lattice space for each plug volume.', sep=',', argstr='--numberOfSubSamplesInEachPlugArea %s')
    atlasWarpingOff = traits.Bool(desc='Deformable registration of atlas to subject', argstr='--atlasWarpingOff ')
    gridSize = InputMultiPath(traits.Int, desc='Grid size for atlas warping with BSplines', sep=',', argstr='--gridSize %s')
    defaultSuffix = traits.Str(argstr='--defaultSuffix %s')
    implicitOutputs = traits.Either(traits.Bool, InputMultiPath(File()), hash_files=False, desc='Outputs to be made available to NiPype. Needed because not all BRAINSABC outputs have command line arguments.', argstr='--implicitOutputs %s...')
    debuglevel = traits.Int(desc='Display debug messages, and produce debug intermediate results.  0=OFF, 1=Minimal, 10=Maximum debugging.', argstr='--debuglevel %d')
    writeLess = traits.Bool(desc='Does not write posteriors and filtered, bias corrected images', argstr='--writeLess ')
    numberOfThreads = traits.Int(desc='Explicitly specify the maximum number of threads to use.', argstr='--numberOfThreads %d')