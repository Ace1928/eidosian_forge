from .basestemmer import BaseStemmer
from .among import Among
class NepaliStemmer(BaseStemmer):
    """
    This class implements the stemming algorithm defined by a snowball script.
    Generated by Snowball 2.2.0 - https://snowballstem.org/
    """
    a_0 = [Among(u'लाइ', -1, 1), Among(u'लाई', -1, 1), Among(u'सँग', -1, 1), Among(u'संग', -1, 1), Among(u'मार्फत', -1, 1), Among(u'रत', -1, 1), Among(u'का', -1, 2), Among(u'मा', -1, 1), Among(u'द्वारा', -1, 1), Among(u'कि', -1, 2), Among(u'पछि', -1, 1), Among(u'की', -1, 2), Among(u'ले', -1, 1), Among(u'कै', -1, 2), Among(u'सँगै', -1, 1), Among(u'मै', -1, 1), Among(u'को', -1, 2)]
    a_1 = [Among(u'ँ', -1, -1), Among(u'ं', -1, -1), Among(u'ै', -1, -1)]
    a_2 = [Among(u'ँ', -1, 1), Among(u'ं', -1, 1), Among(u'ै', -1, 2)]
    a_3 = [Among(u'थिए', -1, 1), Among(u'छ', -1, 1), Among(u'इछ', 1, 1), Among(u'एछ', 1, 1), Among(u'िछ', 1, 1), Among(u'ेछ', 1, 1), Among(u'नेछ', 5, 1), Among(u'हुनेछ', 6, 1), Among(u'इन्छ', 1, 1), Among(u'िन्छ', 1, 1), Among(u'हुन्छ', 1, 1), Among(u'एका', -1, 1), Among(u'इएका', 11, 1), Among(u'िएका', 11, 1), Among(u'ेका', -1, 1), Among(u'नेका', 14, 1), Among(u'दा', -1, 1), Among(u'इदा', 16, 1), Among(u'िदा', 16, 1), Among(u'देखि', -1, 1), Among(u'माथि', -1, 1), Among(u'एकी', -1, 1), Among(u'इएकी', 21, 1), Among(u'िएकी', 21, 1), Among(u'ेकी', -1, 1), Among(u'देखी', -1, 1), Among(u'थी', -1, 1), Among(u'दी', -1, 1), Among(u'छु', -1, 1), Among(u'एछु', 28, 1), Among(u'ेछु', 28, 1), Among(u'नेछु', 30, 1), Among(u'नु', -1, 1), Among(u'हरु', -1, 1), Among(u'हरू', -1, 1), Among(u'छे', -1, 1), Among(u'थे', -1, 1), Among(u'ने', -1, 1), Among(u'एकै', -1, 1), Among(u'ेकै', -1, 1), Among(u'नेकै', 39, 1), Among(u'दै', -1, 1), Among(u'इदै', 41, 1), Among(u'िदै', 41, 1), Among(u'एको', -1, 1), Among(u'इएको', 44, 1), Among(u'िएको', 44, 1), Among(u'ेको', -1, 1), Among(u'नेको', 47, 1), Among(u'दो', -1, 1), Among(u'इदो', 49, 1), Among(u'िदो', 49, 1), Among(u'यो', -1, 1), Among(u'इयो', 52, 1), Among(u'भयो', 52, 1), Among(u'ियो', 52, 1), Among(u'थियो', 55, 1), Among(u'दियो', 55, 1), Among(u'थ्यो', 52, 1), Among(u'छौ', -1, 1), Among(u'इछौ', 59, 1), Among(u'एछौ', 59, 1), Among(u'िछौ', 59, 1), Among(u'ेछौ', 59, 1), Among(u'नेछौ', 63, 1), Among(u'यौ', -1, 1), Among(u'थियौ', 65, 1), Among(u'छ्यौ', 65, 1), Among(u'थ्यौ', 65, 1), Among(u'छन्', -1, 1), Among(u'इछन्', 69, 1), Among(u'एछन्', 69, 1), Among(u'िछन्', 69, 1), Among(u'ेछन्', 69, 1), Among(u'नेछन्', 73, 1), Among(u'लान्', -1, 1), Among(u'छिन्', -1, 1), Among(u'थिन्', -1, 1), Among(u'पर्', -1, 1), Among(u'इस्', -1, 1), Among(u'थिइस्', 79, 1), Among(u'छस्', -1, 1), Among(u'इछस्', 81, 1), Among(u'एछस्', 81, 1), Among(u'िछस्', 81, 1), Among(u'ेछस्', 81, 1), Among(u'नेछस्', 85, 1), Among(u'िस्', -1, 1), Among(u'थिस्', 87, 1), Among(u'छेस्', -1, 1), Among(u'होस्', -1, 1)]

    def __r_remove_category_1(self):
        self.ket = self.cursor
        among_var = self.find_among_b(NepaliStemmer.a_0)
        if among_var == 0:
            return False
        self.bra = self.cursor
        if among_var == 1:
            if not self.slice_del():
                return False
        else:
            try:
                v_1 = self.limit - self.cursor
                try:
                    try:
                        v_2 = self.limit - self.cursor
                        try:
                            if not self.eq_s_b(u'ए'):
                                raise lab3()
                            raise lab2()
                        except lab3:
                            pass
                        self.cursor = self.limit - v_2
                        if not self.eq_s_b(u'े'):
                            raise lab1()
                    except lab2:
                        pass
                    raise lab0()
                except lab1:
                    pass
                self.cursor = self.limit - v_1
                if not self.slice_del():
                    return False
            except lab0:
                pass
        return True

    def __r_check_category_2(self):
        self.ket = self.cursor
        if self.find_among_b(NepaliStemmer.a_1) == 0:
            return False
        self.bra = self.cursor
        return True

    def __r_remove_category_2(self):
        self.ket = self.cursor
        among_var = self.find_among_b(NepaliStemmer.a_2)
        if among_var == 0:
            return False
        self.bra = self.cursor
        if among_var == 1:
            try:
                v_1 = self.limit - self.cursor
                try:
                    if not self.eq_s_b(u'यौ'):
                        raise lab1()
                    raise lab0()
                except lab1:
                    pass
                self.cursor = self.limit - v_1
                try:
                    if not self.eq_s_b(u'छौ'):
                        raise lab2()
                    raise lab0()
                except lab2:
                    pass
                self.cursor = self.limit - v_1
                try:
                    if not self.eq_s_b(u'नौ'):
                        raise lab3()
                    raise lab0()
                except lab3:
                    pass
                self.cursor = self.limit - v_1
                if not self.eq_s_b(u'थे'):
                    return False
            except lab0:
                pass
            if not self.slice_del():
                return False
        else:
            if not self.eq_s_b(u'त्र'):
                return False
            if not self.slice_del():
                return False
        return True

    def __r_remove_category_3(self):
        self.ket = self.cursor
        if self.find_among_b(NepaliStemmer.a_3) == 0:
            return False
        self.bra = self.cursor
        if not self.slice_del():
            return False
        return True

    def _stem(self):
        self.limit_backward = self.cursor
        self.cursor = self.limit
        v_1 = self.limit - self.cursor
        self.__r_remove_category_1()
        self.cursor = self.limit - v_1
        v_2 = self.limit - self.cursor
        try:
            while True:
                v_3 = self.limit - self.cursor
                try:
                    v_4 = self.limit - self.cursor
                    try:
                        v_5 = self.limit - self.cursor
                        if not self.__r_check_category_2():
                            raise lab2()
                        self.cursor = self.limit - v_5
                        if not self.__r_remove_category_2():
                            raise lab2()
                    except lab2:
                        pass
                    self.cursor = self.limit - v_4
                    if not self.__r_remove_category_3():
                        raise lab1()
                    continue
                except lab1:
                    pass
                self.cursor = self.limit - v_3
                break
        except lab0:
            pass
        self.cursor = self.limit - v_2
        self.cursor = self.limit_backward
        return True