import os
from ...utils.filemanip import split_filename
from ..base import (
class ConmatInputSpec(CommandLineInputSpec):
    in_file = File(exists=True, argstr='-inputfile %s', mandatory=True, desc='Streamlines as generated by the Track interface')
    target_file = File(exists=True, argstr='-targetfile %s', mandatory=True, desc='An image containing targets, as used in ProcStreamlines interface.')
    scalar_file = File(exists=True, argstr='-scalarfile %s', desc='Optional scalar file for computing tract-based statistics. Must be in the same space as the target file.', requires=['tract_stat'])
    targetname_file = File(exists=True, argstr='-targetnamefile %s', desc='Optional names of targets. This file should contain one entry per line, with the target intensity followed by the name, separated by white space. For example:   1  some_brain_region   2     some_other_region These names will be used in the output. The names themselves should not contain spaces or commas. The labels may be in any order but the output matrices will be ordered by label intensity.')
    tract_stat = traits.Enum('mean', 'min', 'max', 'sum', 'median', 'var', argstr='-tractstat %s', units='NA', desc='Tract statistic to use. See TractStats for other options.', requires=['scalar_file'], xor=['tract_prop'])
    tract_prop = traits.Enum('length', 'endpointsep', argstr='-tractstat %s', units='NA', xor=['tract_stat'], desc='Tract property average to compute in the connectivity matrix. See TractStats for details.')
    output_root = File(argstr='-outputroot %s', genfile=True, desc='filename root prepended onto the names of the output files. The extension will be determined from the input.')