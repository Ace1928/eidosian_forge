from __future__ import absolute_import
from __future__ import division
from __future__ import unicode_literals
from apitools.base.py import list_pager
from googlecloudsdk.api_lib.util import apis
def CreateAttestationOccurrence(self, note_ref, project_ref, artifact_url, public_key_id, signature, plaintext, validation_callback=None):
    """Creates an Occurrence referencing given URL and Note.

    This only supports the AttestationOccurrence-type Occurrence, currently only
    present in the v1 version of the API.

    Args:
      note_ref: The Note reference that the created Occurrence will be bound to.
        (containeranalysis.projects.notes Resource)
      project_ref: The project ref where the Occurrence will be created.
        (cloudresourcemanager.projects Resource)
      artifact_url: URL of artifact to which the signature is associated.
        (string)
      public_key_id: The URI of the public key that will be used to verify the
        signature. (string)
      signature: The content artifact's signature as generated by the specified
        key's signing operation. (string)
      plaintext: The content that was signed. (string)
      validation_callback: If provided, a function to validate the Occurrence
        prior to creation. (Callable[[Occurrence], None])

    Returns:
      Created Occurrence.
    """
    assert self.api_version == V1
    attestation = self.messages.AttestationOccurrence(serializedPayload=plaintext, signatures=[self.messages.Signature(publicKeyId=public_key_id, signature=signature)])
    occurrence = self.messages.Occurrence(kind=self.messages.Occurrence.KindValueValuesEnum.ATTESTATION, resourceUri=artifact_url, noteName=note_ref.RelativeName(), attestation=attestation)
    request = self.messages.ContaineranalysisProjectsOccurrencesCreateRequest(parent=project_ref.RelativeName(), occurrence=occurrence)
    if validation_callback is not None:
        validation_callback(occurrence)
    return self.client.projects_occurrences.Create(request)