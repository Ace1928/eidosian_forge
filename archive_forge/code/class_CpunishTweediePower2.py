import os
import numpy as np
import pandas as pd
from statsmodels.api import add_constant
from statsmodels.genmod.tests.results import glm_test_resids
class CpunishTweediePower2:
    """
    # From R
    setwd('c:/workspace')
    data <- read.csv('cpunish.csv', sep=",")

    library(statmod)
    library(tweedie)

    summary(glm(EXECUTIONS ~ INCOME + SOUTH - 1,
            family=tweedie(var.power=2, link.power=1),
            data=data))
    """

    def __init__(self):
        resid_resp = [28.9397568116168, 0.605199215492085, 4.30845487128123, -3.7059362524505, -4.91921022348665, 0.46200835064931, 0.068864196242604, -6.07952005594693, -1.01093636580438, -6.9396210244365, -0.768038385056284, -0.573568809339664, -6.94944844711606, -1.16600175635393, -0.641510318056987, -0.403667790321936, -0.737611172529194]
        resid_dev = [2.03295746713119, 0.0704291140028282, 1.60058476017728, -0.591230836989137, -0.836067997150736, 0.274690511542166, 0.0352446721149477, -1.13465831620614, -0.625909330466303, -1.5477830210949, -0.520517540529698, -0.421531194473357, -1.54848147513823, -0.684927882583903, -0.45784673829438, -0.320960880764019, -0.505992145923248]
        resid_pear = [3.59043221590711, 0.0720921473930558, 2.54705286789752, -0.480919661289957, -0.621174344999372, 0.300397177607798, 0.0356599448410699, -0.752460543924524, -0.502719222246499, -0.874049404005278, -0.434401419984914, -0.364501892726482, -0.874205109115113, -0.538319857282425, -0.390804925805356, -0.287580717535275, -0.424497254731367]
        resid_work = [28.9397568116168, 0.605199215492085, 4.30845487128123, -3.7059362524505, -4.91921022348665, 0.46200835064931, 0.068864196242604, -6.07952005594693, -1.01093636580438, -6.9396210244365, -0.768038385056284, -0.573568809339664, -6.94944844711606, -1.16600175635393, -0.641510318056987, -0.403667790321936, -0.737611172529194]
        self.resid_response = resid_resp
        self.resid_deviance = resid_dev
        self.resid_pearson = resid_pear
        self.resid_working = resid_work
        self.params = [4.72472244209477e-05, 6.43243456540827]
        self.bse = [1.86839521185429e-05, 3.83231672422612]
        self.deviance = 15.7840685407599
        self.df_model = 1
        self.df_resid = 15
        self.fittedvalues = [8.06024318838318, 8.39480078450791, 1.69154512871877, 7.7059362524505, 7.91921022348665, 1.53799164935069, 1.9311358037574, 8.07952005594693, 2.01093636580438, 7.9396210244365, 1.76803838505628, 1.57356880933966, 7.94944844711606, 2.16600175635393, 1.64151031805699, 1.40366779032194, 1.73761117252919]