import os
import numpy as np
from numpy import genfromtxt
class ARIMA111:

    def __init__(self, method='mle'):
        self.k_ar = 1
        self.k_diff = 1
        self.k_ma = 1
        if method == 'mle':
            from .arima111_results import results
            self.__dict__.update(results)
            self.resid = self.resid[1:]
            self.params = self.params[:-1]
            self.sigma2 = self.sigma ** 2
            self.aic = self.icstats[4]
            self.bic = self.icstats[5]
            self.fittedvalues = self.xb[1:]
            self.linear = self.y[1:]
            self.arroots = [1.064 + 0j]
            self.maroots = [1.2971 + 0j]
            self.hqic = 496.8653
            self.aic_gretl = 491.5112
            self.bic_gretl = 504.7442
            self.tvalues = [4.28, 20.57, -8.59]
            self.pvalues = [1.87e-05, 5.53e-94, 8.73e-18]
            self.cov_params = [[0.0423583, -0.00167449, 0.00262911], [-0.00167449, 0.00208858, -0.0035068], [0.00262911, -0.0035068, 0.00805622]]
            self.bse = np.sqrt(np.diag(self.cov_params))
            self.forecast = forecast_results['fc111c'][-25:]
            self.forecasterr = forecast_results['fc111cse'][-25:]
            self.forecast_dyn = forecast_results['fc111cdyn']
            self.forecasterr_dyn = forecast_results['fc111cdynse']
        else:
            self.bse = [0.21583833, 0.03844939, 0.0856639]
            self.params = [1.0087257, 0.9455393, -0.8021834]
            self.sigma2 = 0.6355913
            self.tvalues = [4.673524, 24.591788, -9.364311]
            self.pvalues = [5.464467e-06, 0, 0]
            self.cov_params = np.array([[0.046586183, 0.002331183, -0.004647432], [0.002331183, 0.001478356, -0.002726201], [-0.004647432, -0.002726201, 0.007338304]])
            self.llf = -239.6601
            self.aic = 487.3202
            self.bic = 500.5334
            self.hqic = 492.6669
            self.arroots = [1.0578 + 0j]
            self.maroots = [1.2473 + 0j]
            self.resid = [-0.01583, -0.236884, -0.093946, -0.281152, -0.089983, -0.226336, -0.351666, -0.198703, -0.258418, -0.259026, -0.149513, -0.325703, -0.165703, -0.279229, -0.295711, -0.120018, -0.28987, -0.154243, -0.348403, -0.273902, -0.240894, -0.182791, -0.25293, -0.152441, -0.296412, -0.128941, 0.024068, -0.243972, -0.011436, -0.392437, -0.217022, -0.11819, -0.133489, -0.045755, -0.169953, 0.02501, -0.107754, -0.119661, 0.070794, -0.065586, -0.08039, 0.007741, -0.016138, -0.235283, -0.121907, -0.125546, -0.428463, -0.087713, -0.298131, -0.277757, -0.261422, -0.248326, -0.137826, -0.043771, 0.4371, -0.150051, 0.75189, 0.42418, 0.450514, 0.277089, 0.732583, 0.225086, -0.403648, -0.040509, -0.132975, -0.112572, -0.696214, 0.003079, -0.003491, -0.108758, 0.401383, -0.162302, -0.141547, 0.175094, 0.245346, 0.607134, 0.519045, 0.248419, 0.920521, 1.097613, 0.755983, 1.271156, 1.216969, -0.121014, 0.340712, 0.73275, 0.068915, 0.603912, 0.060157, -0.80311, -1.044392, 1.040311, -0.984497, -1.611668, -0.258198, -0.11297, -0.091071, 0.226487, 0.097475, -0.311423, -0.061105, -0.449488, 0.317277, -0.329734, -0.181248, 0.443263, -2.223262, 0.096836, -0.033782, 0.456032, 0.476052, 0.197564, 0.263362, 0.021578, 0.216803, 0.284249, 0.343786, 0.196981, 0.773819, 0.16907, -0.343097, 0.918962, 0.096363, 0.29861, 1.571685, -0.23662, -1.073822, -0.194208, -0.250742, -0.10153, -0.076437, -0.056319, 0.059811, -0.04162, -0.128404, -0.403446, 0.059654, -0.347208, -0.095257, 0.217668, -0.015057, 0.087431, 0.275062, -0.26358, -0.122746, 0.195629, 0.367272, -0.184188, 0.146368, 0.127777, -0.587128, -0.498538, 0.17249, -0.456741, -0.694, 0.199392, -0.140634, -0.029636, 0.364818, -0.09708, 0.510745, 0.230842, 0.595504, 0.709721, 0.012218, 0.520223, -0.445174, -0.168341, -0.935465, -0.894203, 0.733417, -0.279707, 0.258861, 0.417969, -0.443542, -0.477955, 0.288992, 0.442126, 0.075826, 0.665759, 0.571509, -0.204055, 0.835901, -0.375693, 3.292828, -1.469299, -0.122206, 0.617909, -2.250468, 0.570871, 1.166013, 0.079873, 0.463372, 1.981434, -0.142869, 3.023376, -3.713161, -6.12015, -0.007487, 1.267027, 1.17693]
            self.linear = [29.3658, 29.6069, 29.6339, 29.8312, 29.84, 30.0663, 30.1617, 30.1187, 30.2384, 30.299, 30.3595, 30.5457, 30.5457, 30.7192, 30.7757, 30.81, 31.0399, 31.0942, 31.2984, 31.2939, 31.3609, 31.4628, 31.6329, 31.7324, 31.9464, 32.0089, 32.2559, 32.694, 32.8614, 33.2924, 33.317, 33.5182, 33.8335, 34.1458, 34.57, 34.875, 35.4078, 35.8197, 36.2292, 36.8656, 37.3804, 37.8923, 38.5161, 39.1353, 39.5219, 40.0255, 40.5285, 40.6877, 41.1981, 41.4778, 41.7614, 42.0483, 42.3378, 42.7438, 43.2629, 44.3501, 44.8481, 46.3758, 47.6495, 49.0229, 50.2674, 52.0749, 53.4036, 54.0405, 55.033, 55.9126, 56.7962, 56.9969, 57.9035, 58.8088, 59.5986, 60.9623, 61.7415, 62.5249, 63.6547, 64.8929, 66.581, 68.2516, 69.6795, 71.9024, 74.444, 76.7288, 79.683, 82.721, 84.3593, 86.4672, 89.0311, 90.8961, 93.3398, 95.2031, 96.0444, 96.4597, 99.0845, 99.5117, 99.0582, 99.913, 100.8911, 101.8735, 103.2025, 104.4114, 105.1611, 106.1495, 106.6827, 108.0297, 108.6812, 109.4567, 110.9233, 109.4032, 110.2338, 110.944, 112.2239, 113.6024, 114.7366, 115.9784, 116.9832, 118.2158, 119.5562, 121.003, 122.3262, 124.3309, 125.7431, 126.581, 128.8036, 130.2014, 131.8283, 134.9366, 136.1738, 136.3942, 137.4507, 138.4015, 139.4764, 140.5563, 141.6402, 142.8416, 143.9284, 144.9034, 145.5403, 146.6472, 147.2953, 148.1823, 149.4151, 150.4126, 151.5249, 152.8636, 153.6227, 154.5044, 155.7327, 157.1842, 158.0536, 159.2722, 160.4871, 160.8985, 161.3275, 162.4567, 162.894, 163.0006, 164.0406, 164.7296, 165.5352, 166.7971, 167.5893, 169.0692, 170.3045, 171.9903, 173.8878, 175.0798, 176.8452, 177.5683, 178.5355, 178.5942, 178.5666, 180.2797, 180.9411, 182.182, 183.6435, 184.178, 184.611, 185.8579, 187.3242, 188.4342, 190.2285, 192.0041, 192.9641, 195.0757, 195.9072, 200.8693, 200.8222, 202.0821, 204.1505, 203.0031, 204.754, 207.2581, 208.6696, 210.5136, 214.1399, 215.5866, 220.6022, 218.2942, 212.6785, 213.202, 215.2081]
            self.forecast = forecast_results['fc111c_css'][-25:]
            self.forecasterr = forecast_results['fc111cse_css'][-25:]
            self.forecast_dyn = forecast_results['fc111cdyn_css']
            self.forecasterr_dyn = forecast_results['fc111cdynse_css']