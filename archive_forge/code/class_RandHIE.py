import os
import numpy as np
class RandHIE:
    """
    Results obtained from Stata 11
    """

    def __init__(self):
        self.nobs = 20190

    def poisson():
        obj = Namespace()
        obj.nobs = 20190
        obj.params = [-0.052535114675, -0.247086797633, 0.035290201794, -0.03457750643, 0.271713973711, 0.033941474461, -0.012635035534, 0.054056326828, 0.206115121809, 0.700352877227]
        obj.cov_params = None
        obj.bse = [0.00288398915279, 0.01061725196728, 0.00182833684966, 0.00161284852954, 0.01223913844387, 0.00056476496963, 0.00925061122826, 0.01530987068312, 0.02627928267502, 0.01116266712362]
        predict = np.loadtxt(os.path.join(cur_dir, 'yhat_poisson.csv'), delimiter=',')
        obj.phat = predict[:, 0]
        obj.yhat = predict[:, 1]
        obj.llf = -62419.588535018
        obj.llnull = -66647.181687959
        obj.df_model = 9
        obj.df_resid = obj.nobs - obj.df_model - 1
        obj.llr = 8455.186305881856
        obj.prsquared = 0.0634324369893758
        obj.llr_pvalue = 0
        obj.aic = 124859.17707
        obj.bic = 124938.306497
        obj.z = [-18.21612769, -23.27219872, 19.30180524, -21.43878101, 22.20041672, 60.09840604, -1.36585953, 3.53081538, 7.84325525, 62.7406398]
        obj.conf_int = [[-0.0581876, -0.0468826], [-0.2678962, -0.2262774], [0.0317067, 0.0388737], [-0.0377386, -0.0314164], [0.2477257, 0.2957022], [0.0328346, 0.0350484], [-0.0307659, 0.0054958], [0.0240495, 0.0840631], [0.1546087, 0.2576216], [0.6784745, 0.7222313]]
        obj.pvalues = [3.84415e-74, 8.48e-120, 5.18652e-83, 5.8116e-102, 3.4028e-109, 0, 0.1719830562, 0.0004142808, 4.39014e-15, 0]
        obj.margeff_dummy_overall = [-0.15027280560599, -0.66568074771099, 0.10094500919706, -0.09890639687842, 0.7772177029536, 0.097087074526, -0.03608195237609, 0.15804581481115, 0.65104087597053]
        obj.margeff_dummy_overall_se = [0.008273103, 0.0269856266, 0.0052466639, 0.0046317555, 0.0351582169, 0.0016652181, 0.0263736472, 0.0457480115, 0.0913901155]
        obj.margeff_nodummy_overall = [-0.15027280560599, -0.70677348928158, 0.10094500919705, -0.09890639687842, 0.77721770295359, 0.097087074526, -0.03614158359367, 0.1546241203334, 0.58957704430148]
        obj.margeff_nodummy_overall_se = [0.008273103, 0.0305119343, 0.0052466639, 0.0046317555, 0.0351582168, 0.0016652181, 0.0264611158, 0.0437974779, 0.0752099666]
        obj.resid = np.loadtxt(os.path.join(cur_dir, 'poisson_resid.csv'), delimiter=',')
        return obj
    poisson = poisson()

    def negativebinomial_nb2_bfgs():
        obj = Namespace()
        obj.nobs = 20190
        obj.params = [-0.0579469537244314, -0.267787718814838, 0.0412060770911646, -0.0381376804392121, 0.268915772213171, 0.0381637446219235, -0.0441338846217674, 0.0172521803400544, 0.177960787443151, 0.663556087183864, 1.292953339909746]
        obj.lnalpha_std_err = 0.0143932
        obj.lnalpha = 0.256929012449
        obj.bse = [0.00607085853920512, 0.0226125368090765, 0.00405542008282773, 0.00344455937127785, 0.0298855063286547, 0.00142421904710063, 0.0199374393307107, 0.0358416931939136, 0.0741013728607101, 0.0250354082637892, 0.0186098]
        obj.z = [-9.54510030998327, -11.8424447940467, 10.1607419822296, -11.071860382846, 8.99820030672628, 26.7962605187844, -2.21361850384595, 0.481343898758222, 2.40158556546135, 26.5047040652267]
        obj.pvalues = [1.35975947860026e-21, 2.35486776488278e-32, 2.96808970292151e-24, 1.71796558863781e-28, 2.2944789508802e-19, 3.57231639404726e-158, 0.0268550333379416, 0.630272102021494, 0.0163241908407114, 8.55476622951356e-155]
        obj.fittedvalues = [0.892904166867786, 0.892904166867786, 0.892904166867786, 0.892904166867786, 0.892904166867786, 0.937038051489553, 0.937038051489553, 0.937038051489553, 0.937038051489553, 0.937038051489553]
        obj.aic = 86789.32415307125
        obj.df_resid = 20180
        obj.df_model = 9
        obj.conf_int = [[-0.0698826, -0.0460113], [-0.3122654, -0.2233101], [0.0330781, 0.049334], [-0.0448006, -0.0314748], [0.2102246, 0.3276069], [0.0352959, 0.0410316], [-0.0834356, -0.0048321], [-0.0535908, 0.0880951], [0.0324115, 0.3235101], [0.6150055, 0.7121067], [1.256989, 1.329947]]
        obj.bic = 86876.36652289562
        obj.llnull = -44199.2744356343
        obj.llr = 1631.224718197351
        obj.llf = -43383.66207653563
        obj.df_model = 9.0
        obj.llr_pvalue = 0.0
        return obj
    negativebinomial_nb2_bfgs = negativebinomial_nb2_bfgs()

    def negativebinomial_nb1_bfgs():
        obj = Namespace()
        obj.nobs = 20190
        obj.params = [-0.06531726080376296, -0.2960238078938934, 0.041187021258044826, -0.032028789543547605, 0.19065933246421754, 0.03187162511575878, -0.033250849053302826, -0.04850769174426571, 0.11181363746575734, 0.7572770865555034, 3.731151380800305]
        obj.lnalpha = 1.316716867203
        obj.lnalpha_std_err = 0.0168876692
        obj.bse = [0.00536019929563678, 0.0196998350459769, 0.00335779098766272, 0.00301145915122889, 0.0237984097096245, 0.00107360844112751, 0.0167174614755359, 0.0298037989274781, 0.0546838603596457, 0.0214703279904911, 0.0630011409376052]
        obj.z = [-12.1842008660173, -15.0263292419148, 12.2617548393554, -10.6413707601675, 8.0187518663633, 29.6724784046551, -1.98578482623631, -1.62627439508848, 2.04762173155154, 35.2840508145997, 59.2190796881069]
        obj.conf_int = [[-0.075815736, -0.0548037543], [-0.334627884, -0.2574045307], [0.03459114, 0.0477536802], [-0.037948513, -0.0261435934], [0.144188659, 0.2374784253], [0.029752351, 0.0339608958], [-0.065963506, -0.0004310568], [-0.106884601, 0.0099462908], [0.004791495, 0.2191522271], [3.607387349, 3.8543518219], [0.715478301, 0.7996419867]]
        obj.llf = -43278.75612911823
        obj.llnull = -44199.2744356343
        obj.llr = 1841.036613032149
        obj.aic = 86579.51225823646
        obj.bic = 86666.55462806083
        obj.llr_pvalue = 0.0
        obj.df_model = 9.0
        obj.df_resid = 20180.0
        obj.pvalues = [3.65557865e-34, 5.24431864e-51, 1.42921171e-34, 2.09797259e-26, 1.15949461e-15, 1.56785415e-193, 0.0471746349, 0.104731854, 0.0407534831, 1.95504975e-272, 0.0]
        obj.conf_int = [[-0.0758236, -0.054811], [-0.3346363, -0.2574113], [0.0346053, 0.0477687], [-0.0379314, -0.0261261], [0.1440119, 0.2373067], [0.0297667, 0.0339766], [-0.0660178, -0.0004839], [-0.1069241, 0.0099087], [0.0046266, 0.2190007], [0.7151889, 0.7993652], [3.609675, 3.856716]]
        obj.fittedvalues = [0.8487497, 0.8487497, 0.8487497, 0.8487497, 0.8487497, 0.88201746, 0.88201746, 0.88201746, 0.88201746, 0.88201746]
        return obj
    negativebinomial_nb1_bfgs = negativebinomial_nb1_bfgs()

    def negativebinomial_geometric_bfgs():
        obj = Namespace()
        obj.nobs = 20190
        obj.params = [-0.05768894, -0.26646696, 0.04088528, -0.03795503, 0.26885821, 0.03802523, -0.04308456, 0.01931675, 0.18051684, 0.66469896]
        obj.bse = [0.00553867, 0.02061988, 0.00375937, 0.0030924, 0.02701658, 0.00132201, 0.01821646, 0.03271784, 0.06666231, 0.02250053]
        obj.pvalues = [2.10310916e-25, 3.34666368e-38, 1.50697768e-27, 1.25468406e-34, 2.48155744e-23, 6.18745348e-182, 0.0180230194, 0.554919603, 0.00677044178, 8.4491344e-192]
        obj.z = [-10.41567024, -12.92281571, 10.8755779, -12.27364916, 9.95160202, 28.76323587, -2.36514487, 0.59040434, 2.70792943, 29.54148082]
        obj.aic = 87101.15943301239
        obj.bic = 87180.28886012547
        obj.df_model = 9.0
        obj.df_resid = 20180.0
        obj.llf = -43540.58000589021
        obj.llnull = -44586.650971362695
        obj.llr = 2092.1425097129977
        obj.llr_pvalue = 0
        obj.fittedvalues = [0.89348994, 0.89348994, 0.89348994, 0.89348994, 0.89348994, 0.9365745, 0.9365745, 0.9365745, 0.9365745, 0.9365745]
        obj.conf_int = [[-0.06854453, -0.04683335], [-0.30688118, -0.22605273], [0.03351706, 0.04825351], [-0.04401602, -0.03189404], [0.21590669, 0.32180972], [0.03543415, 0.04061632], [-0.07878816, -0.00738096], [-0.04480903, 0.08344253], [0.04986111, 0.31117258], [0.62059873, 0.70879919]]
        return obj
    negativebinomial_geometric_bfgs = negativebinomial_geometric_bfgs()

    def generalizedpoisson_gp2():
        obj = Namespace()
        obj.nobs = 20190
        obj.llf = -43326.42720093228
        obj.params = [-0.0604495342, -0.277717228, 0.0438136144, -0.0395811744, 0.273044906, 0.0399108677, -0.0552626543, -0.001227569488, 0.151980519, 0.651125316, 0.448085318]
        obj.lnalpha_std_err = 0.0125607
        obj.lnalpha = -0.8027716
        obj.bse = [0.00634704, 0.02381906, 0.00443871, 0.00355094, 0.0334247, 0.00166303, 0.02102142, 0.0390845, 0.087821, 0.02626823, 0.00562825]
        obj.df_model = 9
        obj.aic = 86674.854401865
        obj.conf_int = [[-0.07288951, -0.04800956], [-0.32440173, -0.23103272], [0.03511389, 0.05251333], [-0.04654088, -0.03262147], [0.20753371, 0.3385561], [0.03665139, 0.04317034], [-0.09646387, -0.01406144], [-0.07783191, 0.07537652], [-0.02014548, 0.32410651], [0.59964053, 0.70261011], [0.43718883, 0.45925338]]
        obj.bic = 86761.896771689
        obj.wald_pvalue = 4.8795019354e-254
        obj.wald_statistic = 1206.46339591254
        return obj
    generalizedpoisson_gp2 = generalizedpoisson_gp2()

    def zero_inflated_poisson_logit():
        obj = Namespace()
        obj.nobs = 20190
        obj.params = [0.1033783, -1.045983, -0.0821979, 0.0085692, -0.0267957, 1.482363]
        obj.llf = -57005.72199826186
        obj.bse = [0.0079912, 0.0223551, 0.0107145, 0.0018697, 0.0014121, 0.0085915]
        obj.conf_int = [[0.0877159, 0.1190408], [-1.089798, -1.002167], [-0.1031979, -0.061198], [0.0049045, 0.0122338], [-0.0295635, -0.024028], [1.465524, 1.499202]]
        obj.aic = 114023.444
        obj.bic = 114070.9
        return obj
    zero_inflated_poisson_logit = zero_inflated_poisson_logit()

    def zero_inflated_poisson_probit():
        obj = Namespace()
        obj.nobs = 20190
        obj.params = [0.0622534, -0.6429324, -0.0821788, 0.0085673, -0.0267952, 1.482369]
        obj.llf = -57006.05
        obj.bse = [0.0048228, 0.0132516, 0.0107142, 0.0018697, 0.0014121, 0.0085913]
        obj.conf_int = [[0.0528009, 0.0717058], [-0.6689051, -0.6169597], [-0.1031783, -0.0611793], [0.0049027, 0.0122319], [-0.0295629, -0.0240275], [1.46553, 1.499208]]
        obj.aic = 114024.1
        obj.bic = 114071.6
        return obj
    zero_inflated_poisson_probit = zero_inflated_poisson_probit()

    def zero_inflated_poisson_offset():
        obj = Namespace()
        obj.nobs = 20190
        obj.params = [0.1052014, -1.082434, -0.0922822, 0.0115868, -0.0283842, 1.347514]
        obj.llf = -58207.67
        obj.bse = [0.0081836, 0.0230043, 0.0107788, 0.0018687, 0.0014162, 0.0086309]
        obj.conf_int = [[0.0891619, 0.1212409], [-1.127522, -1.037347], [-0.1134082, -0.0711561], [0.0079242, 0.0152494], [-0.0311599, -0.0256085], [1.330598, 1.36443]]
        obj.aic = 116427.3
        obj.bic = 116474.8
        return obj
    zero_inflated_poisson_offset = zero_inflated_poisson_offset()

    def zero_inflated_generalized_poisson():
        obj = Namespace()
        obj.nobs = 20190
        obj.params = [3.57337, -17.95797, -0.2138, 0.03847, -0.05348, 1.15666, 1.36468]
        obj.llf = -43630.6
        obj.bse = [1.66109, 7.62052, 0.02066, 0.00339, 0.00289, 0.0168, 0.01606]
        obj.aic = 87275
        return obj
    zero_inflated_generalized_poisson = zero_inflated_generalized_poisson()

    def zero_inflated_negative_binomial():
        obj = Namespace()
        obj.params = [1.883859, -10.280888, -0.204769, 1.137985, 1.344457]
        obj.llf = -44077.91
        obj.bse = [0.3653, 1.6694, 0.02178, 0.01163, 0.0217496]
        obj.aic = 88165.81
        return obj
    zero_inflated_negative_binomial = zero_inflated_negative_binomial()

    def truncated_poisson(self):
        self.params = [0.000241, -0.0002085, 0.0059419, 0.0016508, 2.289668]
        self.llf = -11091.36
        self.bse = [0.0042718, 0.0157994, 0.002791, 0.0023491, 0.0123182]
        self.conf_int = [[-0.0081316, 0.0086136], [-0.0311747, 0.0307577], [0.0004716, 0.0114122], [-0.0029532, 0.0062549], [2.265525, 2.313812]]
        self.aic = 22192.72
        self.bic = 22222.87

    def zero_truncated_poisson(self):
        self.params = [-0.0095444, -0.07581, 0.0080299, -0.022879, 1.486142]
        self.llf = -44570.853
        self.bse = [0.0029817, 0.0109677, 0.0019165, 0.0016393, 0.0085697]
        self.conf_int = [[-0.0153884, -0.0037005], [-0.0973064, -0.0543137], [0.0042736, 0.0117861], [-0.0260919, -0.019666], [1.469346, 1.502939]]
        self.aic = 89151.71
        self.bic = 89189.39

    def zero_truncted_nbp(self):
        self.params = [-0.0397571554, -0.1269997715, 0.0002753126, 0.9294720085, 2.246603]
        self.llf = -31565
        self.bse = [0.0074415, 0.0308599, 0.005318, 0.0342113, 0.1030674]
        self.aic = 63139.99
        self.bic = 63177.69