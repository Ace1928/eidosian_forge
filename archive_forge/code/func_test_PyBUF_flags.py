import a new buffer interface.
import pygame
import pygame.newbuffer
from pygame.newbuffer import (
import unittest
import ctypes
import operator
from functools import reduce
def test_PyBUF_flags(self):
    a = Exporter((10, 2), 'd')
    b = Importer(a, PyBUF_SIMPLE)
    self.assertTrue(b.obj is a)
    self.assertTrue(b.format is None)
    self.assertEqual(b.len, a.len)
    self.assertEqual(b.itemsize, a.itemsize)
    self.assertTrue(b.shape is None)
    self.assertTrue(b.strides is None)
    self.assertTrue(b.suboffsets is None)
    self.assertTrue(b.internal is None)
    self.assertFalse(b.readonly)
    b = Importer(a, PyBUF_WRITABLE)
    self.assertTrue(b.obj is a)
    self.assertTrue(b.format is None)
    self.assertEqual(b.len, a.len)
    self.assertEqual(b.itemsize, a.itemsize)
    self.assertTrue(b.shape is None)
    self.assertTrue(b.strides is None)
    self.assertTrue(b.suboffsets is None)
    self.assertTrue(b.internal is None)
    self.assertFalse(b.readonly)
    b = Importer(a, PyBUF_ND)
    self.assertTrue(b.obj is a)
    self.assertTrue(b.format is None)
    self.assertEqual(b.len, a.len)
    self.assertEqual(b.itemsize, a.itemsize)
    self.assertEqual(b.shape, a.shape)
    self.assertTrue(b.strides is None)
    self.assertTrue(b.suboffsets is None)
    self.assertTrue(b.internal is None)
    self.assertFalse(b.readonly)
    a = Exporter((5, 10), '=h', (24, 2))
    b = Importer(a, PyBUF_STRIDES)
    self.assertTrue(b.obj is a)
    self.assertTrue(b.format is None)
    self.assertEqual(b.len, a.len)
    self.assertEqual(b.itemsize, a.itemsize)
    self.assertEqual(b.shape, a.shape)
    self.assertEqual(b.strides, a.strides)
    self.assertTrue(b.suboffsets is None)
    self.assertTrue(b.internal is None)
    self.assertFalse(b.readonly)
    b = Importer(a, PyBUF_FULL)
    self.assertTrue(b.obj is a)
    self.assertEqual(b.format, '=h')
    self.assertEqual(b.len, a.len)
    self.assertEqual(b.itemsize, a.itemsize)
    self.assertEqual(b.shape, a.shape)
    self.assertEqual(b.strides, a.strides)
    self.assertTrue(b.suboffsets is None)
    self.assertTrue(b.internal is None)
    self.assertFalse(b.readonly)
    self.assertRaises(BufferError, Importer, a, PyBUF_SIMPLE)
    self.assertRaises(BufferError, Importer, a, PyBUF_WRITABLE)
    self.assertRaises(BufferError, Importer, a, PyBUF_ND)
    self.assertRaises(BufferError, Importer, a, PyBUF_C_CONTIGUOUS)
    self.assertRaises(BufferError, Importer, a, PyBUF_F_CONTIGUOUS)
    self.assertRaises(BufferError, Importer, a, PyBUF_ANY_CONTIGUOUS)
    self.assertRaises(BufferError, Importer, a, PyBUF_CONTIG)