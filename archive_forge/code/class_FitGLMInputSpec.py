import os
from .base import NipyBaseInterface
from ..base import (
class FitGLMInputSpec(BaseInterfaceInputSpec):
    session_info = traits.List(minlen=1, maxlen=1, mandatory=True, desc='Session specific information generated by ``modelgen.SpecifyModel``, FitGLM does not  support multiple runs unless they are concatenated (see SpecifyModel options)')
    hrf_model = traits.Enum('Canonical', 'Canonical With Derivative', 'FIR', desc="that specifies the hemodynamic response function it can be 'Canonical', 'Canonical With Derivative' or 'FIR'", usedefault=True)
    drift_model = traits.Enum('Cosine', 'Polynomial', 'Blank', desc="string that specifies the desired drift model, to be chosen among 'Polynomial', 'Cosine', 'Blank'", usedefault=True)
    TR = traits.Float(mandatory=True)
    model = traits.Enum('ar1', 'spherical', desc='autoregressive mode is available only for the kalman method', usedefault=True)
    method = traits.Enum('kalman', 'ols', desc='method to fit the model, ols or kalma; kalman is more time consuming but it supports autoregressive model', usedefault=True)
    mask = File(exists=True, desc='restrict the fitting only to the region defined by this mask')
    normalize_design_matrix = traits.Bool(False, desc='normalize (zscore) the regressors before fitting', usedefault=True)
    save_residuals = traits.Bool(False, usedefault=True)
    plot_design_matrix = traits.Bool(False, usedefault=True)