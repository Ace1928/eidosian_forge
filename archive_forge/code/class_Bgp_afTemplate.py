from __future__ import absolute_import, division, print_function
import re
from ansible_collections.ansible.netcommon.plugins.module_utils.network.common.rm_base.network_template import (
class Bgp_afTemplate(NetworkTemplate):

    def __init__(self, lines=None):
        super(Bgp_afTemplate, self).__init__(lines=lines, tmplt=self)
    PARSERS = [{'name': 'router', 'getval': re.compile('\n                ^router\\s\n                bgp\n                \\s(?P<as_num>\\S+)\n                $', re.VERBOSE), 'setval': _tmplt_router_bgp_cmd, 'compval': 'as_number', 'result': {'as_number': '{{ as_num }}'}, 'shared': True}, {'name': 'address_family', 'getval': re.compile('\n                \\s*(?P<vrf>vrf\\s\\S+)*\n                \\s*address-family\n                \\s(?P<afi>ipv4|ipv6|evpn)\n                \\s*(?P<type>\\S+)*\n                $', re.VERBOSE), 'setval': _tmplt_bgp_address_family, 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'afi': '{{ afi }}', 'safi': '{{ type }}', 'vrf': '{{ vrf.split()[1] }}'}}}, 'shared': True}, {'name': 'bgp_params_additional_paths', 'getval': re.compile('\n                \\s*bgp\n                \\s+additional-paths\n                \\s+(?P<action>\\S+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_params, 'compval': 'bgp_params.additional_paths', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'bgp_params': {'additional_paths': '{{ action }}'}}}}}, {'name': 'bgp_params.nexthop_address_family', 'getval': re.compile('\n                \\s*bgp\n                \\s+next-hop\n                \\s+address-family\n                \\s+ipv6\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_params, 'compval': 'bgp_params.next_hop_address_family', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'bgp_params': {'next_hop_unchanged': "{{ 'ipv6' }}"}}}}}, {'name': 'bgp_params.nexthop_unchanged', 'getval': re.compile('\n                \\s*bgp\n                \\s+next-hop-unchanged\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_params, 'compval': 'bgp_params.next_hop_unchanged', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'bgp_params': {'next_hop_unchanged': '{{ True }}'}}}}}, {'name': 'bgp_params.redistribute_internal', 'getval': re.compile('\n                \\s*bgp\n                \\s+redistribute-internal\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_params, 'compval': 'bgp_params.redistribute_internal', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'bgp_params': {'redistribute_internal': '{{ True }}'}}}}}, {'name': 'bgp_params.route', 'getval': re.compile('\n                \\s*bgp\n                \\s+route\n                \\s+install-map\n                \\s+(?P<route>\\S+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_params, 'compval': 'bgp_params.route', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'bgp_params': {'route': '{{ route }}'}}}}}, {'name': 'graceful_restart', 'getval': re.compile('\n                \\s*graceful-restart\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_graceful_restart, 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'graceful_restart': '{{ True }}'}}}}, {'name': 'neighbor.activate', 'getval': re.compile('\n                \\s*neighbor\n                \\s+(?P<peer>\\S+)\n                \\s+activate\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor, 'compval': 'neighbor.activate', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'neighbor': {'{{ peer }}': {'peer': '{{ peer }}', 'activate': '{{ True }}'}}}}}}, {'name': 'neighbor.additional_paths', 'getval': re.compile('\n                \\s*neighbor\n                \\s+(?P<peer>\\S+)\n                \\s+additional-paths\n                \\s+(?P<action>\\S+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor, 'compval': 'neighbor.additional_paths', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'neighbor': {'{{ peer }}': {'peer': '{{ peer }}', 'additional_paths': '{{ action }}'}}}}}}, {'name': 'neighbor.default_originate', 'getval': re.compile('\n                \\s*neighbor\n                \\s+(?P<peer>\\S+)\n                \\s+default-originate\n                \\s*(?P<route_map>route-map\\s\\S+)*\n                \\s*(?P<always>always)*\n                $', re.VERBOSE), 'setval': _tmplt_bgp_neighbor, 'compval': 'neighbor.default_originate', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'neighbor': {'{{ peer }}': {'peer': '{{ peer }}', 'default_originate': {'route_map': '{{ route_map.split()[1] }}', 'always': '{{ True if always is defined }}'}}}}}}}, {'name': 'neighbor.graceful_restart', 'getval': re.compile('\n                \\s*neighbor\n                \\s+(?P<peer>\\S+)\n                \\s+graceful-restart\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor, 'compval': 'neighbor.graceful_restart', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'neighbor': {'{{ peer }}': {'peer': '{{ peer }}', 'graceful_restart': '{{ True }}'}}}}}}, {'name': 'neighbor.next_hop_unchanged', 'getval': re.compile('\n                \\s*neighbor\n                \\s+(?P<peer>\\S+)\n                \\s+next-hop-unchanged\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor, 'compval': 'neighbor.next_hop_unchanged', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'neighbor': {'{{ peer }}': {'peer': '{{ peer }}', 'next_hop_unchanged': '{{ True }}'}}}}}}, {'name': 'neighbor.next_hop_address_family', 'getval': re.compile('\n                \\s*neighbor\n                \\s+(?P<peer>\\S+)\n                \\s+next-hop\n                \\s+address-family\n                \\s+ipv6\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor, 'compval': 'neighbor.next_hop_address_family', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'neighbor': {'{{ peer }}': {'peer': '{{ peer }}', 'next_hop_address_family': "{{ 'ipv6' }}"}}}}}}, {'name': 'neighbor.prefix_list', 'getval': re.compile('\n                \\s*neighbor\n                \\s+(?P<peer>\\S+)\n                \\s+prefix-list\n                \\s+(?P<name>\\S+)\n                \\s+(?P<dir>in|out)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor, 'compval': 'neighbor.prefix_list', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'neighbor': {'{{ peer }}': {'peer': '{{ peer }}', 'prefix_list': {'name': '{{ name }}', 'direction': '{{ dir }}'}}}}}}}, {'name': 'neighbor.route_map', 'getval': re.compile('\n                \\s*neighbor\n                \\s+(?P<peer>\\S+)\n                \\s+route-map\n                \\s+(?P<name>\\S+)\n                \\s+(?P<dir>in|out)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor, 'compval': 'neighbor.route_map', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'neighbor': {'{{ peer }}': {'peer': '{{ peer }}', 'route_map': {'name': '{{ name }}', 'direction': '{{ dir }}'}}}}}}}, {'name': 'neighbor.weight', 'getval': re.compile('\n                \\s*neighbor\n                \\s+(?P<peer>\\S+)\n                \\s+weight\n                \\s+(?P<weight>\\d+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor, 'compval': 'neighbor.weight', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'neighbor': {'{{ peer }}': {'peer': '{{ peer }}', 'weight': '{{ weight }}'}}}}}}, {'name': 'neighbor.encapsulation', 'getval': re.compile('\n                \\s*neighbor\n                \\s+default\n                \\s+encapsulation\n                \\s+(?P<type>mpls|vxlan)\n                \\s*(next-hop-self)*\n                \\s*(source-interface)*\n                \\s*(?P<interface>\\S+\\s\\S+)*\n                $', re.VERBOSE), 'setval': _tmplt_bgp_neighbor, 'compval': 'neighbor.encapsulation', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'neighbor': {'{{ peer }}': {'peer': '{{ peer }}', 'encapsulation': {'transport': '{{ type }}', 'source_interface': '{{ interface }}'}}}}}}}, {'name': 'network', 'getval': re.compile('\n                \\s*network\n                \\s+(?P<address>\\S+)\n                \\s*(route-map)*\n                \\s*(?P<route_map>\\S+)*\n                $', re.VERBOSE), 'setval': _tmplt_bgp_network, 'compval': 'network', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'network': {'{{ address }}': {'address': '{{ address }}', 'route_map': '{{ route_map }}'}}}}}}, {'name': 'redistribute', 'getval': re.compile('\n                \\s*redistribute\n                \\s+(?P<route>\\S+)\n                \\s*(?P<level>level-1|level-2|level-1-2)*\n                \\s*(?P<match>match\\s\\S+)*\n                \\s*(?P<route_map>route-map\\s\\S+)*\n                $', re.VERBOSE), 'setval': _tmplt_bgp_redistribute, 'compval': 'redistribute', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'redistribute': [{'protocol': '{{ route }}', 'route_map': '{{ route_map.split()[1] }}', 'isis_level': '{{ level }}', 'ospf_route': '{{ match.split()[1] }}'}]}}}}, {'name': 'route_target', 'getval': re.compile('\n                \\s*route-target\n                \\s+(?P<action>\\S+)\n                \\s*(?P<type>evpn|vpn-ipv4|vpn-ipv6)*\n                \\s*(?P<map>route-map\\s\\S+)*\n                \\s+(?P<target>\\S+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_route_target, 'compval': 'route_target', 'result': {'address_family': {'{{ afi + "_" + vrf|d() }}': {'route_target': {'action': '{{ action }}', 'type': '{{ type }}', 'route_map': '{{ map.split()[1] }}', 'target': '{{ target }}'}}}}}]