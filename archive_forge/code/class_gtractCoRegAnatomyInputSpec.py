import os
from ...base import (
class gtractCoRegAnatomyInputSpec(CommandLineInputSpec):
    inputVolume = File(desc='Required: input vector image file name. It is recommended that the input volume is the skull stripped baseline image of the DWI scan.', exists=True, argstr='--inputVolume %s')
    inputAnatomicalVolume = File(desc='Required: input anatomical image file name. It is recommended that the input anatomical image has been skull stripped and has the same orientation as the DWI scan.', exists=True, argstr='--inputAnatomicalVolume %s')
    vectorIndex = traits.Int(desc='Vector image index in the moving image (within the DWI) to be used for registration.', argstr='--vectorIndex %d')
    inputRigidTransform = File(desc='Required (for B-Spline type co-registration): input rigid transform file name. Used as a starting point for the anatomical B-Spline registration.', exists=True, argstr='--inputRigidTransform %s')
    outputTransformName = traits.Either(traits.Bool, File(), hash_files=False, desc='Required: filename for the  fit transform.', argstr='--outputTransformName %s')
    transformType = traits.Enum('Rigid', 'Bspline', desc='Transform Type: Rigid|Bspline', argstr='--transformType %s')
    numberOfIterations = traits.Int(desc='Number of iterations in the selected 3D fit', argstr='--numberOfIterations %d')
    gridSize = InputMultiPath(traits.Int, desc='Number of grid subdivisions in all 3 directions', sep=',', argstr='--gridSize %s')
    borderSize = traits.Int(desc='Size of border', argstr='--borderSize %d')
    numberOfHistogramBins = traits.Int(desc='Number of histogram bins', argstr='--numberOfHistogramBins %d')
    spatialScale = traits.Int(desc='Scales the number of voxels in the image by this value to specify the number of voxels used in the registration', argstr='--spatialScale %d')
    convergence = traits.Float(desc='Convergence Factor', argstr='--convergence %f')
    gradientTolerance = traits.Float(desc='Gradient Tolerance', argstr='--gradientTolerance %f')
    maxBSplineDisplacement = traits.Float(desc=' Sets the maximum allowed displacements in image physical coordinates for BSpline control grid along each axis.  A value of 0.0 indicates that the problem should be unbounded.  NOTE:  This only constrains the BSpline portion, and does not limit the displacement from the associated bulk transform.  This can lead to a substantial reduction in computation time in the BSpline optimizer.,       ', argstr='--maxBSplineDisplacement %f')
    maximumStepSize = traits.Float(desc='Maximum permitted step size to move in the selected 3D fit', argstr='--maximumStepSize %f')
    minimumStepSize = traits.Float(desc='Minimum required step size to move in the selected 3D fit without converging -- decrease this to make the fit more exacting', argstr='--minimumStepSize %f')
    translationScale = traits.Float(desc='How much to scale up changes in position compared to unit rotational changes in radians -- decrease this to put more translation in the fit', argstr='--translationScale %f')
    relaxationFactor = traits.Float(desc='Fraction of gradient from Jacobian to attempt to move in the selected 3D fit', argstr='--relaxationFactor %f')
    numberOfSamples = traits.Int(desc='The number of voxels sampled for mutual information computation.  Increase this for a slower, more careful fit. NOTE that it is suggested to use samplingPercentage instead of this option. However, if set, it overwrites the samplingPercentage option.  ', argstr='--numberOfSamples %d')
    samplingPercentage = traits.Float(desc='This is a number in (0.0,1.0] interval that shows the percentage of the input fixed image voxels that are sampled for mutual information computation.  Increase this for a slower, more careful fit. You can also limit the sampling focus with ROI masks and ROIAUTO mask generation. The default is to use approximately 5% of voxels (for backwards compatibility 5% ~= 500000/(256*256*256)). Typical values range from 1% for low detail images to 20% for high detail images.', argstr='--samplingPercentage %f')
    useMomentsAlign = traits.Bool(desc='MomentsAlign assumes that the center of mass of the images represent similar structures.  Perform a MomentsAlign registration as part of the sequential registration steps.   This option MUST come first, and CAN NOT be used with either CenterOfHeadLAlign, GeometryAlign, or initialTransform file.  This family of options superceeds the use of transformType if any of them are set.', argstr='--useMomentsAlign ')
    useGeometryAlign = traits.Bool(desc='GeometryAlign on assumes that the center of the voxel lattice of the images represent similar structures. Perform a GeometryCenterAlign registration as part of the sequential registration steps.   This option MUST come first, and CAN NOT be used with either MomentsAlign, CenterOfHeadAlign, or initialTransform file.  This family of options superceeds the use of transformType if any of them are set.', argstr='--useGeometryAlign ')
    useCenterOfHeadAlign = traits.Bool(desc='CenterOfHeadAlign attempts to find a hemisphere full of foreground voxels from the superior direction as an estimate of where the center of a head shape would be to drive a center of mass estimate.  Perform a CenterOfHeadAlign registration as part of the sequential registration steps.   This option MUST come first, and CAN NOT be used with either MomentsAlign, GeometryAlign, or initialTransform file.  This family of options superceeds the use of transformType if any of them are set.', argstr='--useCenterOfHeadAlign ')
    numberOfThreads = traits.Int(desc='Explicitly specify the maximum number of threads to use.', argstr='--numberOfThreads %d')