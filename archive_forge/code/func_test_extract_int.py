from heat.common import param_utils
from heat.tests import common
def test_extract_int(self):
    self.assertIsNone(param_utils.extract_int('num', None))
    self.assertEqual(0, param_utils.extract_int('num', 0))
    self.assertEqual(0, param_utils.extract_int('num', 0, allow_zero=True))
    self.assertEqual(0, param_utils.extract_int('num', '0'))
    self.assertEqual(0, param_utils.extract_int('num', '0', allow_zero=True))
    self.assertRaises(ValueError, param_utils.extract_int, 'num', 0, allow_zero=False)
    self.assertRaises(ValueError, param_utils.extract_int, 'num', '0', allow_zero=False)
    self.assertEqual(1, param_utils.extract_int('num', 1))
    self.assertEqual(1, param_utils.extract_int('num', '1'))
    self.assertRaises(ValueError, param_utils.extract_int, 'num', '1.1')
    self.assertRaises(ValueError, param_utils.extract_int, 'num', 1.1)
    self.assertEqual(-1, param_utils.extract_int('num', -1, allow_negative=True))
    self.assertEqual(-1, param_utils.extract_int('num', '-1', allow_negative=True))
    self.assertRaises(ValueError, param_utils.extract_int, 'num', '-1.1', allow_negative=True)
    self.assertRaises(ValueError, param_utils.extract_int, 'num', -1.1, allow_negative=True)
    self.assertRaises(ValueError, param_utils.extract_int, 'num', -1)
    self.assertRaises(ValueError, param_utils.extract_int, 'num', '-1')
    self.assertRaises(ValueError, param_utils.extract_int, 'num', '-1.1')
    self.assertRaises(ValueError, param_utils.extract_int, 'num', -1.1)
    self.assertRaises(ValueError, param_utils.extract_int, 'num', -1, allow_negative=False)
    self.assertRaises(ValueError, param_utils.extract_int, 'num', '-1', allow_negative=False)
    self.assertRaises(ValueError, param_utils.extract_int, 'num', '-1.1', allow_negative=False)
    self.assertRaises(ValueError, param_utils.extract_int, 'num', -1.1, allow_negative=False)
    self.assertRaises(ValueError, param_utils.extract_int, 'num', 'abc')
    self.assertRaises(ValueError, param_utils.extract_int, 'num', '')
    self.assertRaises(ValueError, param_utils.extract_int, 'num', 'true')
    self.assertRaises(ValueError, param_utils.extract_int, 'num', True)