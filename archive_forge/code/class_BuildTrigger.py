from __future__ import absolute_import
from apitools.base.protorpclite import messages as _messages
from apitools.base.py import encoding
from apitools.base.py import extra_types
class BuildTrigger(_messages.Message):
    """Configuration for an automated build in response to source repository
  changes.

  Enums:
    EventTypeValueValuesEnum: EventType allows the user to explicitly set the
      type of event to which this BuildTrigger should respond. This field will
      be validated against the rest of the configuration if it is set.
    IncludeBuildLogsValueValuesEnum: If set to INCLUDE_BUILD_LOGS_WITH_STATUS,
      log url will be shown on GitHub page when build status is final. Setting
      this field to INCLUDE_BUILD_LOGS_WITH_STATUS for non GitHub triggers
      results in INVALID_ARGUMENT error.

  Messages:
    SubstitutionsValue: Substitutions for Build resource. The keys must match
      the following regular expression: `^_[A-Z0-9_]+$`.

  Fields:
    approvalConfig: Configuration for manual approval to start a build
      invocation of this BuildTrigger.
    autodetect: Autodetect build configuration. The following precedence is
      used (case insensitive): 1. cloudbuild.yaml 2. cloudbuild.yml 3.
      cloudbuild.json 4. Dockerfile Currently only available for GitHub App
      Triggers.
    bitbucketServerTriggerConfig: BitbucketServerTriggerConfig describes the
      configuration of a trigger that creates a build whenever a Bitbucket
      Server event is received.
    build: Contents of the build template.
    createTime: Output only. Time when the trigger was created.
    cron: CronConfig describes the configuration of a trigger that creates a
      build whenever a Cloud Scheduler event is received.
    description: Human-readable description of this trigger.
    disabled: If true, the trigger will never automatically execute a build.
    eventType: EventType allows the user to explicitly set the type of event
      to which this BuildTrigger should respond. This field will be validated
      against the rest of the configuration if it is set.
    filename: Path, from the source root, to the build configuration file
      (i.e. cloudbuild.yaml).
    filter: A Common Expression Language string.
    gitFileSource: The file source describing the local or remote Build
      template.
    github: GitHubEventsConfig describes the configuration of a trigger that
      creates a build whenever a GitHub event is received. Mutually exclusive
      with `trigger_template`.
    gitlabEnterpriseEventsConfig: GitLabEnterpriseEventsConfig describes the
      configuration of a trigger that creates a build whenever a GitLab
      Enterprise event is received.
    id: Output only. Unique identifier of the trigger.
    ignoredFiles: ignored_files and included_files are file glob matches using
      https://golang.org/pkg/path/filepath/#Match extended with support for
      "**". If ignored_files and changed files are both empty, then they are
      not used to determine whether or not to trigger a build. If
      ignored_files is not empty, then we ignore any files that match any of
      the ignored_file globs. If the change has no files that are outside of
      the ignored_files globs, then we do not trigger a build.
    includeBuildLogs: If set to INCLUDE_BUILD_LOGS_WITH_STATUS, log url will
      be shown on GitHub page when build status is final. Setting this field
      to INCLUDE_BUILD_LOGS_WITH_STATUS for non GitHub triggers results in
      INVALID_ARGUMENT error.
    includedFiles: If any of the files altered in the commit pass the
      ignored_files filter and included_files is empty, then as far as this
      filter is concerned, we should trigger the build. If any of the files
      altered in the commit pass the ignored_files filter and included_files
      is not empty, then we make sure that at least one of those files matches
      a included_files glob. If not, then we do not trigger a build.
    name: User-assigned name of the trigger. Must be unique within the
      project. Trigger names must meet the following requirements: + They must
      contain only alphanumeric characters and dashes. + They can be 1-64
      characters long. + They must begin and end with an alphanumeric
      character.
    pubsubConfig: PubsubConfig describes the configuration of a trigger that
      creates a build whenever a Pub/Sub message is published.
    repositoryEventConfig: The configuration of a trigger that creates a build
      whenever an event from Repo API is received.
    resourceName: The `Trigger` name with format:
      `projects/{project}/locations/{location}/triggers/{trigger}`, where
      {trigger} is a unique identifier generated by the service.
    serviceAccount: The service account used for all user-controlled
      operations including UpdateBuildTrigger, RunBuildTrigger, CreateBuild,
      and CancelBuild. If no service account is set, then the standard Cloud
      Build service account ([PROJECT_NUM]@system.gserviceaccount.com) will be
      used instead. Format:
      `projects/{PROJECT_ID}/serviceAccounts/{ACCOUNT_ID_OR_EMAIL}`
    sourceToBuild: The repo and ref of the repository from which to build.
      This field is used only for those triggers that do not respond to SCM
      events. Triggers that respond to such events build source at whatever
      commit caused the event. This field is currently only used by Webhook,
      Pub/Sub, Manual, and Cron triggers.
    substitutions: Substitutions for Build resource. The keys must match the
      following regular expression: `^_[A-Z0-9_]+$`.
    tags: Tags for annotation of a `BuildTrigger`
    triggerTemplate: Template describing the types of source changes to
      trigger a build. Branch and tag names in trigger templates are
      interpreted as regular expressions. Any branch or tag change that
      matches that regular expression will trigger a build. Mutually exclusive
      with `github`.
    webhookConfig: WebhookConfig describes the configuration of a trigger that
      creates a build whenever a webhook is sent to a trigger's webhook URL.
  """

    class EventTypeValueValuesEnum(_messages.Enum):
        """EventType allows the user to explicitly set the type of event to which
    this BuildTrigger should respond. This field will be validated against the
    rest of the configuration if it is set.

    Values:
      EVENT_TYPE_UNSPECIFIED: EVENT_TYPE_UNSPECIFIED event_types are ignored.
      REPO: REPO corresponds to the supported VCS integrations.
      WEBHOOK: WEBHOOK corresponds to webhook triggers.
      PUBSUB: PUBSUB corresponds to pubsub triggers.
      MANUAL: MANUAL corresponds to manual-only invoked triggers.
    """
        EVENT_TYPE_UNSPECIFIED = 0
        REPO = 1
        WEBHOOK = 2
        PUBSUB = 3
        MANUAL = 4

    class IncludeBuildLogsValueValuesEnum(_messages.Enum):
        """If set to INCLUDE_BUILD_LOGS_WITH_STATUS, log url will be shown on
    GitHub page when build status is final. Setting this field to
    INCLUDE_BUILD_LOGS_WITH_STATUS for non GitHub triggers results in
    INVALID_ARGUMENT error.

    Values:
      INCLUDE_BUILD_LOGS_UNSPECIFIED: Build logs will not be shown on GitHub.
      INCLUDE_BUILD_LOGS_WITH_STATUS: Build logs will be shown on GitHub.
    """
        INCLUDE_BUILD_LOGS_UNSPECIFIED = 0
        INCLUDE_BUILD_LOGS_WITH_STATUS = 1

    @encoding.MapUnrecognizedFields('additionalProperties')
    class SubstitutionsValue(_messages.Message):
        """Substitutions for Build resource. The keys must match the following
    regular expression: `^_[A-Z0-9_]+$`.

    Messages:
      AdditionalProperty: An additional property for a SubstitutionsValue
        object.

    Fields:
      additionalProperties: Additional properties of type SubstitutionsValue
    """

        class AdditionalProperty(_messages.Message):
            """An additional property for a SubstitutionsValue object.

      Fields:
        key: Name of the additional property.
        value: A string attribute.
      """
            key = _messages.StringField(1)
            value = _messages.StringField(2)
        additionalProperties = _messages.MessageField('AdditionalProperty', 1, repeated=True)
    approvalConfig = _messages.MessageField('ApprovalConfig', 1)
    autodetect = _messages.BooleanField(2)
    bitbucketServerTriggerConfig = _messages.MessageField('BitbucketServerTriggerConfig', 3)
    build = _messages.MessageField('Build', 4)
    createTime = _messages.StringField(5)
    cron = _messages.MessageField('CronConfig', 6)
    description = _messages.StringField(7)
    disabled = _messages.BooleanField(8)
    eventType = _messages.EnumField('EventTypeValueValuesEnum', 9)
    filename = _messages.StringField(10)
    filter = _messages.StringField(11)
    gitFileSource = _messages.MessageField('GitFileSource', 12)
    github = _messages.MessageField('GitHubEventsConfig', 13)
    gitlabEnterpriseEventsConfig = _messages.MessageField('GitLabEventsConfig', 14)
    id = _messages.StringField(15)
    ignoredFiles = _messages.StringField(16, repeated=True)
    includeBuildLogs = _messages.EnumField('IncludeBuildLogsValueValuesEnum', 17)
    includedFiles = _messages.StringField(18, repeated=True)
    name = _messages.StringField(19)
    pubsubConfig = _messages.MessageField('PubsubConfig', 20)
    repositoryEventConfig = _messages.MessageField('RepositoryEventConfig', 21)
    resourceName = _messages.StringField(22)
    serviceAccount = _messages.StringField(23)
    sourceToBuild = _messages.MessageField('GitRepoSource', 24)
    substitutions = _messages.MessageField('SubstitutionsValue', 25)
    tags = _messages.StringField(26, repeated=True)
    triggerTemplate = _messages.MessageField('RepoSource', 27)
    webhookConfig = _messages.MessageField('WebhookConfig', 28)