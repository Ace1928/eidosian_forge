import re
from functools import partial
from ovs.flow.flow import Flow, Section
from ovs.flow.kv import (
from ovs.flow.decoders import (
@staticmethod
def _action_decoders_args():
    """Generate the arguments for the action KVDecoders."""
    _decoders = {'drop': decode_flag, 'lb_output': decode_int, 'trunc': decode_int, 'recirc': decode_int, 'userspace': nested_kv_decoder(KVDecoders({'pid': decode_int, 'sFlow': nested_kv_decoder(KVDecoders({'vid': decode_int, 'pcp': decode_int, 'output': decode_int})), 'slow_path': decode_default, 'flow_sample': nested_kv_decoder(KVDecoders({'probability': decode_int, 'collector_set_id': decode_int, 'obs_domain_id': decode_int, 'obs_point_id': decode_int, 'output_port': decode_default, 'ingress': decode_flag, 'egress': decode_flag})), 'ipfix': nested_kv_decoder(KVDecoders({'output_port': decode_default})), 'controller': nested_kv_decoder(KVDecoders({'reason': decode_int, 'dont_send': decode_int, 'continuation': decode_int, 'recirc_id': decode_int, 'rule_cookie': decode_int, 'controller_id': decode_int, 'max_len': decode_int})), 'userdata': decode_default, 'actions': decode_flag, 'tunnel_out_port': decode_default, 'push_eth': nested_kv_decoder(KVDecoders({'src': EthMask, 'dst': EthMask, 'type': decode_int})), 'pop_eth': decode_flag})), 'set': nested_kv_decoder(KVDecoders(ODPFlow._field_decoders_args())), 'push_vlan': nested_kv_decoder(KVDecoders({'vid': decode_int, 'pcp': decode_int, 'cfi': decode_int, 'tpid': decode_int})), 'pop_vlan': decode_flag, 'push_nsh': nested_kv_decoder(KVDecoders({'flags': decode_int, 'ttl': decode_int, 'mdtype': decode_int, 'np': decode_int, 'spi': decode_int, 'si': decode_int, 'c1': decode_int, 'c2': decode_int, 'c3': decode_int, 'c4': decode_int, 'md2': decode_int})), 'pop_nsh': decode_flag, 'tnl_pop': decode_int, 'pop_mpls': KVDecoders({'eth_type': decode_int}), **dict.fromkeys(['push_mpls', 'add_mpls'], nested_kv_decoder(KVDecoders({'label': decode_int, 'tc': decode_int, 'ttl': decode_int, 'bos': decode_int, 'eth_type': decode_int}))), 'ct_clear': decode_flag, 'ct': nested_kv_decoder(KVDecoders({'commit': decode_flag, 'force_commit': decode_flag, 'zone': decode_int, 'mark': Mask32, 'label': Mask128, 'helper': decode_default, 'timeout': decode_default, 'nat': decode_nat})), **ODPFlow._tnl_action_decoder_args()}
    _decoders['clone'] = nested_kv_decoder(KVDecoders(decoders=_decoders, default_free=decode_free_output), is_list=True)
    return {**_decoders, 'sample': nested_kv_decoder(KVDecoders({'sample': lambda x: float(x.strip('%')), 'actions': nested_kv_decoder(KVDecoders(decoders=_decoders, default_free=decode_free_output), is_list=True)})), 'check_pkt_len': nested_kv_decoder(KVDecoders({'size': decode_int, 'gt': nested_kv_decoder(KVDecoders(decoders=_decoders, default_free=decode_free_output)), 'le': nested_kv_decoder(KVDecoders(decoders=_decoders, default_free=decode_free_output))}))}