from __future__ import absolute_import
from __future__ import division
from __future__ import unicode_literals
from googlecloudsdk.api_lib.dns import util as api_util
from googlecloudsdk.api_lib.util import apis
from googlecloudsdk.command_lib.dns import flags
import ipaddr
def BetaParseManagedZoneForwardingConfigWithForwardingPath(messages, server_list=None, private_server_list=None):
    """Parses list of forwarding nameservers into ManagedZoneForwardingConfig.

    This function will be moved after promoting v6 address to GA.

  Args:
    messages: (module) Module (generally auto-generated by the API build rules)
      containing the API client's message classes.
    server_list: (list) List of IP addresses to use as forwarding targets for
      the DNS Managed Zone that uses default forwarding logic (based on RFC1918
      check).
    private_server_list: (list) List of IP addresses to use as forwarding
      targets for the DNS Managed Zone that always use the private VPC path.

  Returns:
    A messages.ManagedZoneForwardingConfig instance populated from the given
    command line arguments.
  """
    target_servers = []
    default_enum = messages.ManagedZoneForwardingConfigNameServerTarget.ForwardingPathValueValuesEnum(0)
    private_enum = messages.ManagedZoneForwardingConfigNameServerTarget.ForwardingPathValueValuesEnum(1)
    if server_list is not None:
        for name in server_list:
            if IsIPv4(name):
                target_servers.append(messages.ManagedZoneForwardingConfigNameServerTarget(ipv4Address=name, ipv6Address=None, forwardingPath=default_enum))
            else:
                target_servers.append(messages.ManagedZoneForwardingConfigNameServerTarget(ipv4Address=None, ipv6Address=name, forwardingPath=default_enum))
    if private_server_list is not None:
        for name in private_server_list:
            if IsIPv4(name):
                target_servers.append(messages.ManagedZoneForwardingConfigNameServerTarget(ipv4Address=name, ipv6Address=None, forwardingPath=private_enum))
            else:
                target_servers.append(messages.ManagedZoneForwardingConfigNameServerTarget(ipv4Address=None, ipv6Address=name, forwardingPath=private_enum))
    return messages.ManagedZoneForwardingConfig(targetNameServers=target_servers)