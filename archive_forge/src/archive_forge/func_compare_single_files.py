from __future__ import annotations
import gzip
import json
from glob import glob
from pathlib import Path
from typing import Any
import numpy as np
from monty.io import zopen
from pymatgen.core import Molecule, Structure
def compare_single_files(ref_file: str | Path, test_file: str | Path) -> None:
    """Compare single files generated by tests with ones in reference directories.

    Args:
        ref_file (str | Path): The reference file to cmpare against
        test_file (str | Path): The file to compare against the reference

    Raises:
        AssertionError: If the files are not the same
    """
    with open(test_file) as tf:
        test_lines = tf.readlines()[5:]
    with zopen(f'{ref_file}.gz', mode='rt') as rf:
        ref_lines = rf.readlines()[5:]
    for test_line, ref_line in zip(test_lines, ref_lines):
        if 'species_dir' in ref_line:
            continue
        assert test_line.strip() == ref_line.strip()