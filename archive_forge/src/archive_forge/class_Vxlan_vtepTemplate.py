from __future__ import absolute_import, division, print_function
import re
from ansible_collections.ansible.netcommon.plugins.module_utils.network.common.rm_base.network_template import (
class Vxlan_vtepTemplate(NetworkTemplate):

    def __init__(self, lines=None, module=None):
        super(Vxlan_vtepTemplate, self).__init__(lines=lines, tmplt=self, module=module)
    PARSERS = [{'name': 'interface', 'getval': re.compile('^interface\\s(?P<interface>\\S+)$', re.VERBOSE), 'setval': 'interface {{ interface }}', 'result': {'{{ interface }}': {'interface': '{{ interface }}'}}, 'shared': True}, {'name': 'source_interface', 'getval': re.compile('\\s+source-interface\n                    \\s(?P<source_interface>\\S+)\n                    $', re.VERBOSE), 'setval': 'source-interface {{ source_interface }}', 'result': {'{{ interface }}': {'source_interface': '{{ source_interface }}'}}}, {'name': 'host_reachability_bgp', 'getval': re.compile('\\s+host-reachability\\sprotocol\\sbgp$', re.VERBOSE), 'setval': 'host-reachability protocol bgp', 'result': {'{{ interface }}': {'host_reachability_bgp': True}}}, {'name': 'replication', 'getval': re.compile('\n                \\s+member\\svni\\s(?P<vni>\\d+)\\s(?P<type>mcast-group|ingress-replication)\n                (\\s(?P<ipv4_mcast_group>[\\d.]+))?\n                (\\s(?P<ipv6_mcast_group>[\\da-fA-F:]+))?\n                $', re.VERBOSE), 'setval': "member vni {{ vni }}{{ (' ' + 'ingress-replication') if replication.type == 'ingress' else (' ' + 'mcast-group') }}{{ (' ' + replication.mcast_group.ipv4) if replication.mcast_group is defined and replication.mcast_group.ipv4 is defined and replication.type == 'static' else '' }}{{ (' ' + replication.mcast_group.ipv6) if replication.mcast_group is defined and replication.mcast_group.ipv6 is defined and replication.type == 'static' else '' }}", 'result': {'{{ interface }}': {'member': {'vni': {'l2vni': [{'vni': '{{ vni }}', 'replication': {'type': "{{ 'ingress' if type == 'ingress-replication' else 'static' }}", 'mcast_group': {'ipv4': '{{ ipv4_mcast_group }}', 'ipv6': '{{ ipv6_mcast_group }}'}}}]}}}}}, {'name': 'vrf', 'getval': re.compile('\n                \\s+member\\svni\n                \\s(?P<vni>\\d+)\n                \\svrf\\s(?P<vrf>\\S+)\n                $', re.VERBOSE), 'setval': 'member vni {{ vni }} vrf {{ vrf }}', 'result': {'{{ interface }}': {'member': {'vni': {'l3vni': [{'vni': '{{ vni }}', 'vrf': '{{ vrf }}'}]}}}}}]