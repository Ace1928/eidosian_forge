import re
from pygments.lexer import Lexer, RegexLexer, include, bygroups, words, \
from pygments.util import get_bool_opt, get_list_opt
from pygments.token import Text, Comment, Operator, Keyword, Name, String, \
from pygments.scanner import Scanner
from pygments.lexers.modula2 import Modula2Lexer
class AdaLexer(RegexLexer):
    """
    For Ada source code.

    .. versionadded:: 1.3
    """
    name = 'Ada'
    aliases = ['ada', 'ada95', 'ada2005']
    filenames = ['*.adb', '*.ads', '*.ada']
    mimetypes = ['text/x-ada']
    flags = re.MULTILINE | re.IGNORECASE
    tokens = {'root': [('[^\\S\\n]+', Text), ('--.*?\\n', Comment.Single), ('[^\\S\\n]+', Text), ('function|procedure|entry', Keyword.Declaration, 'subprogram'), ('(subtype|type)(\\s+)(\\w+)', bygroups(Keyword.Declaration, Text, Keyword.Type), 'type_def'), ('task|protected', Keyword.Declaration), ('(subtype)(\\s+)', bygroups(Keyword.Declaration, Text)), ('(end)(\\s+)', bygroups(Keyword.Reserved, Text), 'end'), ('(pragma)(\\s+)(\\w+)', bygroups(Keyword.Reserved, Text, Comment.Preproc)), ('(true|false|null)\\b', Keyword.Constant), (words(('Address', 'Byte', 'Boolean', 'Character', 'Controlled', 'Count', 'Cursor', 'Duration', 'File_Mode', 'File_Type', 'Float', 'Generator', 'Integer', 'Long_Float', 'Long_Integer', 'Long_Long_Float', 'Long_Long_Integer', 'Natural', 'Positive', 'Reference_Type', 'Short_Float', 'Short_Integer', 'Short_Short_Float', 'Short_Short_Integer', 'String', 'Wide_Character', 'Wide_String'), suffix='\\b'), Keyword.Type), ('(and(\\s+then)?|in|mod|not|or(\\s+else)|rem)\\b', Operator.Word), ('generic|private', Keyword.Declaration), ('package', Keyword.Declaration, 'package'), ('array\\b', Keyword.Reserved, 'array_def'), ('(with|use)(\\s+)', bygroups(Keyword.Namespace, Text), 'import'), ('(\\w+)(\\s*)(:)(\\s*)(constant)', bygroups(Name.Constant, Text, Punctuation, Text, Keyword.Reserved)), ('<<\\w+>>', Name.Label), ('(\\w+)(\\s*)(:)(\\s*)(declare|begin|loop|for|while)', bygroups(Name.Label, Text, Punctuation, Text, Keyword.Reserved)), (words(('abort', 'abs', 'abstract', 'accept', 'access', 'aliased', 'all', 'array', 'at', 'begin', 'body', 'case', 'constant', 'declare', 'delay', 'delta', 'digits', 'do', 'else', 'elsif', 'end', 'entry', 'exception', 'exit', 'interface', 'for', 'goto', 'if', 'is', 'limited', 'loop', 'new', 'null', 'of', 'or', 'others', 'out', 'overriding', 'pragma', 'protected', 'raise', 'range', 'record', 'renames', 'requeue', 'return', 'reverse', 'select', 'separate', 'subtype', 'synchronized', 'task', 'tagged', 'terminate', 'then', 'type', 'until', 'when', 'while', 'xor'), prefix='\\b', suffix='\\b'), Keyword.Reserved), ('"[^"]*"', String), include('attribute'), include('numbers'), ("'[^']'", String.Character), ('(\\w+)(\\s*|[(,])', bygroups(Name, using(this))), ("(<>|=>|:=|[()|:;,.'])", Punctuation), ('[*<>+=/&-]', Operator), ('\\n+', Text)], 'numbers': [('[0-9_]+#[0-9a-f]+#', Number.Hex), ('[0-9_]+\\.[0-9_]*', Number.Float), ('[0-9_]+', Number.Integer)], 'attribute': [("(')(\\w+)", bygroups(Punctuation, Name.Attribute))], 'subprogram': [('\\(', Punctuation, ('#pop', 'formal_part')), (';', Punctuation, '#pop'), ('is\\b', Keyword.Reserved, '#pop'), ('"[^"]+"|\\w+', Name.Function), include('root')], 'end': [('(if|case|record|loop|select)', Keyword.Reserved), ('"[^"]+"|[\\w.]+', Name.Function), ('\\s+', Text), (';', Punctuation, '#pop')], 'type_def': [(';', Punctuation, '#pop'), ('\\(', Punctuation, 'formal_part'), ('with|and|use', Keyword.Reserved), ('array\\b', Keyword.Reserved, ('#pop', 'array_def')), ('record\\b', Keyword.Reserved, 'record_def'), ('(null record)(;)', bygroups(Keyword.Reserved, Punctuation), '#pop'), include('root')], 'array_def': [(';', Punctuation, '#pop'), ('(\\w+)(\\s+)(range)', bygroups(Keyword.Type, Text, Keyword.Reserved)), include('root')], 'record_def': [('end record', Keyword.Reserved, '#pop'), include('root')], 'import': [('[\\w.]+', Name.Namespace, '#pop'), default('#pop')], 'formal_part': [('\\)', Punctuation, '#pop'), ('\\w+', Name.Variable), (',|:[^=]', Punctuation), ('(in|not|null|out|access)\\b', Keyword.Reserved), include('root')], 'package': [('body', Keyword.Declaration), ('is\\s+new|renames', Keyword.Reserved), ('is', Keyword.Reserved, '#pop'), (';', Punctuation, '#pop'), ('\\(', Punctuation, 'package_instantiation'), ('([\\w.]+)', Name.Class), include('root')], 'package_instantiation': [('("[^"]+"|\\w+)(\\s+)(=>)', bygroups(Name.Variable, Text, Punctuation)), ('[\\w.\\\'"]', Text), ('\\)', Punctuation, '#pop'), include('root')]}