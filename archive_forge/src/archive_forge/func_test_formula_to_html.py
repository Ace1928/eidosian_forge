import pytest
from pyparsing import ParseException
from ..parsing import (
from ..testing import requires
@pytest.mark.parametrize('species, html', [('H2O', 'H<sub>2</sub>O'), ('C6H6+', 'C<sub>6</sub>H<sub>6</sub><sup>+</sup>'), ('Fe(CN)6-3', 'Fe(CN)<sub>6</sub><sup>3-</sup>'), ('C18H38+2', 'C<sub>18</sub>H<sub>38</sub><sup>2+</sup>'), ('((H2O)2OH)12', '((H<sub>2</sub>O)<sub>2</sub>OH)<sub>12</sub>'), ('[(H2O)2OH]12', '[(H<sub>2</sub>O)<sub>2</sub>OH]<sub>12</sub>'), ('{(H2O)2OH}12', '{(H<sub>2</sub>O)<sub>2</sub>OH}<sub>12</sub>'), ('NaCl', 'NaCl'), ('NaCl(s)', 'NaCl(s)'), ('e-(aq)', 'e<sup>-</sup>(aq)'), ('Ca+2(aq)', 'Ca<sup>2+</sup>(aq)'), ('.NO2(g)', '&sdot;NO<sub>2</sub>(g)'), ('.NH2', '&sdot;NH<sub>2</sub>'), ('ONOOH', 'ONOOH'), ('.ONOO', '&sdot;ONOO'), ('.NO3-2', '&sdot;NO<sub>3</sub><sup>2-</sup>'), ('alpha-FeOOH(s)', '&alpha;-FeOOH(s)'), ('epsilon-Zn(OH)2(s)', '&epsilon;-Zn(OH)<sub>2</sub>(s)'), ('Na2CO3..7H2O(s)', 'Na<sub>2</sub>CO<sub>3</sub>&sdot;7H<sub>2</sub>O(s)'), ('Na2CO3..1H2O(s)', 'Na<sub>2</sub>CO<sub>3</sub>&sdot;H<sub>2</sub>O(s)'), ('K4[Fe(CN)6]', 'K<sub>4</sub>[Fe(CN)<sub>6</sub>]'), ('K4[Fe(CN)6](s)', 'K<sub>4</sub>[Fe(CN)<sub>6</sub>](s)'), ('K4[Fe(CN)6](aq)', 'K<sub>4</sub>[Fe(CN)<sub>6</sub>](aq)'), ('[Fe(H2O)6][Fe(CN)6]..19H2O', '[Fe(H<sub>2</sub>O)<sub>6</sub>][Fe(CN)<sub>6</sub>]&sdot;19H<sub>2</sub>O'), ('[Fe(H2O)6][Fe(CN)6]..19H2O(s)', '[Fe(H<sub>2</sub>O)<sub>6</sub>][Fe(CN)<sub>6</sub>]&sdot;19H<sub>2</sub>O(s)'), ('[Fe(H2O)6][Fe(CN)6]..19H2O(aq)', '[Fe(H<sub>2</sub>O)<sub>6</sub>][Fe(CN)<sub>6</sub>]&sdot;19H<sub>2</sub>O(aq)'), ('[Fe(CN)6]-3', '[Fe(CN)<sub>6</sub>]<sup>3-</sup>'), ('[Fe(CN)6]-3(aq)', '[Fe(CN)<sub>6</sub>]<sup>3-</sup>(aq)')])
@requires(parsing_library)
def test_formula_to_html(species, html):
    assert formula_to_html(species) == html