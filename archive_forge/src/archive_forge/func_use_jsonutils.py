import ast
import os
import re
from hacking import core
from os_win.utils.winapi import libs as w_lib
import_translation_for_log_or_exception = re.compile(
@core.flake8ext
def use_jsonutils(logical_line, filename):
    if '/tools/' in filename:
        return
    msg = 'N324: jsonutils.%(fun)s must be used instead of json.%(fun)s'
    if 'json.' in logical_line:
        json_funcs = ['dumps(', 'dump(', 'loads(', 'load(']
        for f in json_funcs:
            pos = logical_line.find('json.%s' % f)
            if pos != -1:
                yield (pos, msg % {'fun': f[:-1]})