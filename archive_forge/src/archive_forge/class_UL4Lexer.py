import re
from pygments.lexer import RegexLexer, DelegatingLexer, bygroups, words, include
from pygments.token import Comment, Text, Keyword, String, Number, Literal, \
from pygments.lexers.web import HtmlLexer, XmlLexer, CssLexer, JavascriptLexer
from pygments.lexers.python import PythonLexer
class UL4Lexer(RegexLexer):
    """
    Generic lexer for UL4.

    .. versionadded:: 2.12
    """
    flags = re.MULTILINE | re.DOTALL
    name = 'UL4'
    aliases = ['ul4']
    filenames = ['*.ul4']
    tokens = {'root': [('(<\\?)(\\s*)(ul4)(\\s*)(\\?>)', bygroups(Comment.Preproc, Text.Whitespace, Keyword, Text.Whitespace, Comment.Preproc)), ('(<\\?)(\\s*)(ul4)(\\s*)([a-zA-Z_][a-zA-Z_0-9]*)?', bygroups(Comment.Preproc, Text.Whitespace, Keyword, Text.Whitespace, Name.Function), 'ul4'), ('<\\?\\s*note\\s.*?\\?>', Comment), ('<\\?\\s*doc\\s.*?\\?>', String.Doc), ('<\\?\\s*ignore\\s*\\?>', Comment, 'ignore'), ('(<\\?)(\\s*)(def)(\\s*)([a-zA-Z_][a-zA-Z_0-9]*)?', bygroups(Comment.Preproc, Text.Whitespace, Keyword, Text.Whitespace, Name.Function), 'ul4'), ('(<\\?)(\\s*)(printx|print|for|if|elif|else|while|code|renderblocks?|render)\\b', bygroups(Comment.Preproc, Text.Whitespace, Keyword), 'ul4'), ('(<\\?)(\\s*)(end)\\b', bygroups(Comment.Preproc, Text.Whitespace, Keyword), 'end'), ('(<\\?)(\\s*)(whitespace)\\b', bygroups(Comment.Preproc, Text.Whitespace, Keyword), 'whitespace'), ('[^<]+', Other), ('<', Other)], 'ignore': [('<\\?\\s*ignore\\s*\\?>', Comment, '#push'), ('<\\?\\s*end\\s+ignore\\s*\\?>', Comment, '#pop'), ('[^<]+', Comment), ('.', Comment)], 'ul4': [('\\?>', Comment.Preproc, '#pop'), ("'''", String, 'string13'), ('"""', String, 'string23'), ("'", String, 'string1'), ('"', String, 'string2'), ('\\d+\\.\\d*([eE][+-]?\\d+)?', Number.Float), ('\\.\\d+([eE][+-]?\\d+)?', Number.Float), ('\\d+[eE][+-]?\\d+', Number.Float), ('0[bB][01]+', Number.Bin), ('0[oO][0-7]+', Number.Oct), ('0[xX][0-9a-fA-F]+', Number.Hex), ('@\\(\\d\\d\\d\\d-\\d\\d-\\d\\d(T(\\d\\d:\\d\\d(:\\d\\d(\\.\\d{6})?)?)?)?\\)', Literal.Date), ('#[0-9a-fA-F]{8}', Literal.Color), ('#[0-9a-fA-F]{6}', Literal.Color), ('#[0-9a-fA-F]{3,4}', Literal.Color), ('\\d+', Number.Integer), ('//|==|!=|>=|<=|<<|>>|\\+=|-=|\\*=|/=|//=|<<=|>>=|&=|\\|=|^=|=|[\\[\\]{},:*/().~%&|<>^+-]', Operator), (words(('for', 'in', 'if', 'else', 'not', 'is', 'and', 'or'), suffix='\\b'), Keyword), (words(('None', 'False', 'True'), suffix='\\b'), Keyword.Constant), ('[a-zA-Z_][a-zA-Z0-9_]*', Name), ('\\s+', Text.Whitespace)], 'end': [('\\?>', Comment.Preproc, '#pop'), (words(('for', 'if', 'def', 'while', 'renderblock', 'renderblocks'), suffix='\\b'), Keyword), ('\\s+', Text)], 'whitespace': [('\\?>', Comment.Preproc, '#pop'), (words(('keep', 'strip', 'smart'), suffix='\\b'), Comment.Preproc), ('\\s+', Text.Whitespace)], 'stringescapes': [('\\\\[\\\\\'"abtnfr]', String.Escape), ('\\\\x[0-9a-fA-F]{2}', String.Escape), ('\\\\u[0-9a-fA-F]{4}', String.Escape), ('\\\\U[0-9a-fA-F]{8}', String.Escape)], 'string13': [("'''", String, '#pop'), include('stringescapes'), ("[^\\\\']+", String), ('.', String)], 'string23': [('"""', String, '#pop'), include('stringescapes'), ('[^\\\\"]+', String), ('.', String)], 'string1': [("'", String, '#pop'), include('stringescapes'), ("[^\\\\']+", String), ('.', String)], 'string2': [('"', String, '#pop'), include('stringescapes'), ('[^\\\\"]+', String), ('.', String)]}