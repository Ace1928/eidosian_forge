from io import BytesIO
from xml.etree.ElementTree import Element, SubElement, tostring  # noqa
from xml.parsers.expat import ParserCreate
from .filebasedimages import FileBasedHeader
class XmlSerializable:
    """Basic interface for serializing an object to XML"""

    def _to_xml_element(self) -> Element:
        """Output should be a xml.etree.ElementTree.Element"""
        raise NotImplementedError

    def to_xml(self, enc='utf-8', **kwargs) -> bytes:
        """Generate an XML bytestring with a given encoding.

        Parameters
        ----------
        enc : :class:`string`
            Encoding to use for the generated bytestring. Default: 'utf-8'
        \\*\\*kwargs : :class:`dict`
            Additional keyword arguments to :func:`xml.etree.ElementTree.tostring`.
        """
        ele = self._to_xml_element()
        return b'' if ele is None else tostring(ele, enc, **kwargs)