from __future__ import division
import pyparsing as pp
from collections import namedtuple
from datetime import datetime
class TestRepetition(PyparsingExpressionTestCase):
    tests = [PpTestSpec(desc='Match several words', expr=(pp.Word('x') | pp.Word('y'))[...], text='xxyxxyyxxyxyxxxy', expected_list=['xx', 'y', 'xx', 'yy', 'xx', 'y', 'x', 'y', 'xxx', 'y']), PpTestSpec(desc='Match several words, skipping whitespace', expr=(pp.Word('x') | pp.Word('y'))[...], text='x x  y xxy yxx y xyx  xxy', expected_list=['x', 'x', 'y', 'xx', 'y', 'y', 'xx', 'y', 'x', 'y', 'x', 'xx', 'y']), PpTestSpec(desc='Match several words, skipping whitespace (old style)', expr=pp.OneOrMore(pp.Word('x') | pp.Word('y')), text='x x  y xxy yxx y xyx  xxy', expected_list=['x', 'x', 'y', 'xx', 'y', 'y', 'xx', 'y', 'x', 'y', 'x', 'xx', 'y']), PpTestSpec(desc='Match words and numbers - show use of results names to collect types of tokens', expr=(pp.Word(pp.alphas)('alpha*') | pp.pyparsing_common.integer('int*'))[...], text='sdlfj23084ksdfs08234kjsdlfkjd0934', expected_list=['sdlfj', 23084, 'ksdfs', 8234, 'kjsdlfkjd', 934], expected_dict={'alpha': ['sdlfj', 'ksdfs', 'kjsdlfkjd'], 'int': [23084, 8234, 934]}), PpTestSpec(desc='Using delimitedList (comma is the default delimiter)', expr=pp.delimitedList(pp.Word(pp.alphas)), text='xxyx,xy,y,xxyx,yxx, xy', expected_list=['xxyx', 'xy', 'y', 'xxyx', 'yxx', 'xy']), PpTestSpec(desc="Using delimitedList, with ':' delimiter", expr=pp.delimitedList(pp.Word(pp.hexnums, exact=2), delim=':', combine=True), text='0A:4B:73:21:FE:76', expected_list=['0A:4B:73:21:FE:76'])]