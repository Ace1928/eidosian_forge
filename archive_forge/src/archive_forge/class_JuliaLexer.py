import re
from pygments.lexer import Lexer, RegexLexer, bygroups, do_insertions, \
from pygments.token import Text, Comment, Operator, Keyword, Name, String, \
from pygments.util import shebang_matches, unirange
class JuliaLexer(RegexLexer):
    """
    For `Julia <http://julialang.org/>`_ source code.

    .. versionadded:: 1.6
    """
    name = 'Julia'
    aliases = ['julia', 'jl']
    filenames = ['*.jl']
    mimetypes = ['text/x-julia', 'application/x-julia']
    flags = re.MULTILINE | re.UNICODE
    tokens = {'root': [('\\n', Text), ('[^\\S\\n]+', Text), ('#=', Comment.Multiline, 'blockcomment'), ('#.*$', Comment), ('[\\[\\]{}(),;]', Punctuation), ('in\\b', Keyword.Pseudo), ('(true|false)\\b', Keyword.Constant), ('(local|global|const)\\b', Keyword.Declaration), (words(['function', 'type', 'typealias', 'abstract', 'immutable', 'baremodule', 'begin', 'bitstype', 'break', 'catch', 'ccall', 'continue', 'do', 'else', 'elseif', 'end', 'export', 'finally', 'for', 'if', 'import', 'importall', 'let', 'macro', 'module', 'quote', 'return', 'try', 'using', 'while'], suffix='\\b'), Keyword), (words(['ANY', 'ASCIIString', 'AbstractArray', 'AbstractChannel', 'AbstractFloat', 'AbstractMatrix', 'AbstractRNG', 'AbstractSparseArray', 'AbstractSparseMatrix', 'AbstractSparseVector', 'AbstractString', 'AbstractVecOrMat', 'AbstractVector', 'Any', 'ArgumentError', 'Array', 'AssertionError', 'Associative', 'Base64DecodePipe', 'Base64EncodePipe', 'Bidiagonal', 'BigFloat', 'BigInt', 'BitArray', 'BitMatrix', 'BitVector', 'Bool', 'BoundsError', 'Box', 'BufferStream', 'CapturedException', 'CartesianIndex', 'CartesianRange', 'Cchar', 'Cdouble', 'Cfloat', 'Channel', 'Char', 'Cint', 'Cintmax_t', 'Clong', 'Clonglong', 'ClusterManager', 'Cmd', 'Coff_t', 'Colon', 'Complex', 'Complex128', 'Complex32', 'Complex64', 'CompositeException', 'Condition', 'Cptrdiff_t', 'Cshort', 'Csize_t', 'Cssize_t', 'Cstring', 'Cuchar', 'Cuint', 'Cuintmax_t', 'Culong', 'Culonglong', 'Cushort', 'Cwchar_t', 'Cwstring', 'DataType', 'Date', 'DateTime', 'DenseArray', 'DenseMatrix', 'DenseVecOrMat', 'DenseVector', 'Diagonal', 'Dict', 'DimensionMismatch', 'Dims', 'DirectIndexString', 'Display', 'DivideError', 'DomainError', 'EOFError', 'EachLine', 'Enum', 'Enumerate', 'ErrorException', 'Exception', 'Expr', 'Factorization', 'FileMonitor', 'FileOffset', 'Filter', 'Float16', 'Float32', 'Float64', 'FloatRange', 'Function', 'GenSym', 'GlobalRef', 'GotoNode', 'HTML', 'Hermitian', 'IO', 'IOBuffer', 'IOStream', 'IPv4', 'IPv6', 'InexactError', 'InitError', 'Int', 'Int128', 'Int16', 'Int32', 'Int64', 'Int8', 'IntSet', 'Integer', 'InterruptException', 'IntrinsicFunction', 'InvalidStateException', 'Irrational', 'KeyError', 'LabelNode', 'LambdaStaticData', 'LinSpace', 'LineNumberNode', 'LoadError', 'LocalProcess', 'LowerTriangular', 'MIME', 'Matrix', 'MersenneTwister', 'Method', 'MethodError', 'MethodTable', 'Module', 'NTuple', 'NewvarNode', 'NullException', 'Nullable', 'Number', 'ObjectIdDict', 'OrdinalRange', 'OutOfMemoryError', 'OverflowError', 'Pair', 'ParseError', 'PartialQuickSort', 'Pipe', 'PollingFileWatcher', 'ProcessExitedException', 'ProcessGroup', 'Ptr', 'QuoteNode', 'RandomDevice', 'Range', 'Rational', 'RawFD', 'ReadOnlyMemoryError', 'Real', 'ReentrantLock', 'Ref', 'Regex', 'RegexMatch', 'RemoteException', 'RemoteRef', 'RepString', 'RevString', 'RopeString', 'RoundingMode', 'SegmentationFault', 'SerializationState', 'Set', 'SharedArray', 'SharedMatrix', 'SharedVector', 'Signed', 'SimpleVector', 'SparseMatrixCSC', 'StackOverflowError', 'StatStruct', 'StepRange', 'StridedArray', 'StridedMatrix', 'StridedVecOrMat', 'StridedVector', 'SubArray', 'SubString', 'SymTridiagonal', 'Symbol', 'SymbolNode', 'Symmetric', 'SystemError', 'TCPSocket', 'Task', 'Text', 'TextDisplay', 'Timer', 'TopNode', 'Tridiagonal', 'Tuple', 'Type', 'TypeConstructor', 'TypeError', 'TypeName', 'TypeVar', 'UDPSocket', 'UInt', 'UInt128', 'UInt16', 'UInt32', 'UInt64', 'UInt8', 'UTF16String', 'UTF32String', 'UTF8String', 'UndefRefError', 'UndefVarError', 'UnicodeError', 'UniformScaling', 'Union', 'UnitRange', 'Unsigned', 'UpperTriangular', 'Val', 'Vararg', 'VecOrMat', 'Vector', 'VersionNumber', 'Void', 'WString', 'WeakKeyDict', 'WeakRef', 'WorkerConfig', 'Zip'], suffix='\\b'), Keyword.Type), (words([u'ARGS', u'CPU_CORES', u'C_NULL', u'DevNull', u'ENDIAN_BOM', u'ENV', u'I', u'Inf', u'Inf16', u'Inf32', u'Inf64', u'InsertionSort', u'JULIA_HOME', u'LOAD_PATH', u'MergeSort', u'NaN', u'NaN16', u'NaN32', u'NaN64', u'OS_NAME', u'QuickSort', u'RoundDown', u'RoundFromZero', u'RoundNearest', u'RoundNearestTiesAway', u'RoundNearestTiesUp', u'RoundToZero', u'RoundUp', u'STDERR', u'STDIN', u'STDOUT', u'VERSION', u'WORD_SIZE', u'catalan', u'e', u'eu', u'eulergamma', u'golden', u'im', u'nothing', u'pi', u'γ', u'π', u'φ'], suffix='\\b'), Name.Builtin), (words([u'=', u':=', u'+=', u'-=', u'*=', u'/=', u'//=', u'.//=', u'.*=', u'./=', u'\\=', u'.\\=', u'^=', u'.^=', u'÷=', u'.÷=', u'%=', u'.%=', u'|=', u'&=', u'$=', u'=>', u'<<=', u'>>=', u'>>>=', u'~', u'.+=', u'.-=', u'?', u'--', u'-->', u'||', u'&&', u'>', u'<', u'>=', u'≥', u'<=', u'≤', u'==', u'===', u'≡', u'!=', u'≠', u'!==', u'≢', u'.>', u'.<', u'.>=', u'.≥', u'.<=', u'.≤', u'.==', u'.!=', u'.≠', u'.=', u'.!', u'<:', u'>:', u'∈', u'∉', u'∋', u'∌', u'⊆', u'⊈', u'⊂', u'⊄', u'⊊', u'|>', u'<|', u':', u'+', u'-', u'.+', u'.-', u'|', u'∪', u'$', u'<<', u'>>', u'>>>', u'.<<', u'.>>', u'.>>>', u'*', u'/', u'./', u'÷', u'.÷', u'%', u'⋅', u'.%', u'.*', u'\\', u'.\\', u'&', u'∩', u'//', u'.//', u'^', u'.^', u'::', u'.', u'+', u'-', u'!', u'~', u'√', u'∛', u'∜']), Operator), ("'(\\\\.|\\\\[0-7]{1,3}|\\\\x[a-fA-F0-9]{1,3}|\\\\u[a-fA-F0-9]{1,4}|\\\\U[a-fA-F0-9]{1,6}|[^\\\\\\'\\n])'", String.Char), ("(?<=[.\\w)\\]])\\'+", Operator), ('"""', String, 'tqstring'), ('"', String, 'string'), ('r"""', String.Regex, 'tqregex'), ('r"', String.Regex, 'regex'), ('`', String.Backtick, 'command'), (allowed_variable, Name), ('@' + allowed_variable, Name.Decorator), ('(\\d+(_\\d+)+\\.\\d*|\\d*\\.\\d+(_\\d+)+)([eEf][+-]?[0-9]+)?', Number.Float), ('(\\d+\\.\\d*|\\d*\\.\\d+)([eEf][+-]?[0-9]+)?', Number.Float), ('\\d+(_\\d+)+[eEf][+-]?[0-9]+', Number.Float), ('\\d+[eEf][+-]?[0-9]+', Number.Float), ('0b[01]+(_[01]+)+', Number.Bin), ('0b[01]+', Number.Bin), ('0o[0-7]+(_[0-7]+)+', Number.Oct), ('0o[0-7]+', Number.Oct), ('0x[a-fA-F0-9]+(_[a-fA-F0-9]+)+', Number.Hex), ('0x[a-fA-F0-9]+', Number.Hex), ('\\d+(_\\d+)+', Number.Integer), ('\\d+', Number.Integer)], 'blockcomment': [('[^=#]', Comment.Multiline), ('#=', Comment.Multiline, '#push'), ('=#', Comment.Multiline, '#pop'), ('[=#]', Comment.Multiline)], 'string': [('"', String, '#pop'), ('\\\\([\\\\"\\\'$nrbtfav]|(x|u|U)[a-fA-F0-9]+|\\d+)', String.Escape), ('\\$' + allowed_variable, String.Interpol), ('(\\$)(\\()', bygroups(String.Interpol, Punctuation), 'in-intp'), ('%[-#0 +]*([0-9]+|[*])?(\\.([0-9]+|[*]))?[hlL]?[E-GXc-giorsux%]', String.Interpol), ('.|\\s', String)], 'tqstring': [('"""', String, '#pop'), ('\\\\([\\\\"\\\'$nrbtfav]|(x|u|U)[a-fA-F0-9]+|\\d+)', String.Escape), ('\\$' + allowed_variable, String.Interpol), ('(\\$)(\\()', bygroups(String.Interpol, Punctuation), 'in-intp'), ('.|\\s', String)], 'regex': [('"', String.Regex, '#pop'), ('\\\\"', String.Regex), ('.|\\s', String.Regex)], 'tqregex': [('"""', String.Regex, '#pop'), ('.|\\s', String.Regex)], 'command': [('`', String.Backtick, '#pop'), ('\\$' + allowed_variable, String.Interpol), ('(\\$)(\\()', bygroups(String.Interpol, Punctuation), 'in-intp'), ('.|\\s', String.Backtick)], 'in-intp': [('\\(', Punctuation, '#push'), ('\\)', Punctuation, '#pop'), include('root')]}

    def analyse_text(text):
        return shebang_matches(text, 'julia')