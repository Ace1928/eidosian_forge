from unittest import mock
from novaclient import client as base_client
from novaclient import exceptions as nova_exceptions
import requests
from urllib import parse as urlparse
from heat.tests import fakes
def get_servers_detail(self, **kw):
    if kw.get('marker') == '56789':
        return (200, {'servers': []})
    return (200, {'servers': [{'id': '1234', 'name': 'sample-server', 'OS-EXT-SRV-ATTR:instance_name': 'sample-server', 'image': {'id': 2, 'name': 'sample image'}, 'flavor': {'id': 1, 'name': '256 MB Server'}, 'hostId': 'e4d909c290d0fb1ca068ffaddf22cbd0', 'status': 'BUILD', 'progress': 60, 'addresses': {'public': [{'version': 4, 'addr': '1.2.3.4'}, {'version': 4, 'addr': '5.6.7.8'}], 'private': [{'version': 4, 'addr': '10.11.12.13'}]}, 'accessIPv4': '', 'accessIPv6': '', 'metadata': {'Server Label': 'Web Head 1', 'Image Version': '2.1'}}, {'id': '5678', 'name': 'sample-server2', 'OS-EXT-AZ:availability_zone': 'nova2', 'OS-EXT-SRV-ATTR:instance_name': 'sample-server2', 'image': {'id': 2, 'name': 'sample image'}, 'flavor': {'id': 1, 'name': '256 MB Server'}, 'hostId': '9e107d9d372bb6826bd81d3542a419d6', 'status': 'ACTIVE', 'accessIPv4': '192.0.2.0', 'accessIPv6': '::babe:4317:0A83', 'addresses': {'public': [{'version': 4, 'addr': '4.5.6.7', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:8c:22:aa'}, {'version': 4, 'addr': '5.6.9.8', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:8c:33:bb'}], 'private': [{'version': 4, 'addr': '10.13.12.13', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:8c:44:cc'}]}, 'metadata': {}}, {'id': '9101', 'name': 'hard-reboot', 'OS-EXT-SRV-ATTR:instance_name': 'hard-reboot', 'image': {'id': 2, 'name': 'sample image'}, 'flavor': {'id': 1, 'name': '256 MB Server'}, 'hostId': '9e44d8d435c43dd8d96bb63ed995605f', 'status': 'HARD_REBOOT', 'accessIPv4': '', 'accessIPv6': '', 'addresses': {'public': [{'version': 4, 'addr': '172.17.1.2'}, {'version': 4, 'addr': '10.20.30.40'}], 'private': [{'version': 4, 'addr': '10.13.12.13'}]}, 'metadata': {'Server Label': 'DB 1'}}, {'id': '9102', 'name': 'server-with-no-ip', 'OS-EXT-SRV-ATTR:instance_name': 'server-with-no-ip', 'image': {'id': 2, 'name': 'sample image'}, 'flavor': {'id': 1, 'name': '256 MB Server'}, 'hostId': 'c1365ba78c624df9b2ff446515a682f5', 'status': 'ACTIVE', 'accessIPv4': '', 'accessIPv6': '', 'addresses': {'empty_net': []}, 'metadata': {'Server Label': 'DB 1'}}, {'id': '9999', 'name': 'sample-server3', 'OS-EXT-SRV-ATTR:instance_name': 'sample-server3', 'OS-EXT-AZ:availability_zone': 'nova3', 'image': {'id': 3, 'name': 'sample image'}, 'flavor': {'id': 3, 'name': 'm1.large'}, 'hostId': '9e107d9d372bb6826bd81d3542a419d6', 'status': 'ACTIVE', 'accessIPv4': '', 'accessIPv6': '', 'addresses': {'public': [{'version': 4, 'addr': '4.5.6.7'}, {'version': 4, 'addr': '5.6.9.8'}], 'private': [{'version': 4, 'addr': '10.13.12.13'}]}, 'metadata': {'Server Label': 'DB 1'}, 'os-extended-volumes:volumes_attached': [{'id': '66359157-dace-43ab-a7ed-a7e7cd7be59d'}]}, {'id': 56789, 'name': 'server-with-metadata', 'OS-EXT-SRV-ATTR:instance_name': 'sample-server2', 'image': {'id': 2, 'name': 'sample image'}, 'flavor': {'id': 1, 'name': '256 MB Server'}, 'hostId': '9e107d9d372bb6826bd81d3542a419d6', 'status': 'ACTIVE', 'accessIPv4': '192.0.2.0', 'accessIPv6': '::babe:4317:0A83', 'addresses': {'public': [{'version': 4, 'addr': '4.5.6.7'}, {'version': 4, 'addr': '5.6.9.8'}], 'private': [{'version': 4, 'addr': '10.13.12.13'}]}, 'metadata': {'test': '123', 'this': 'that'}}, {'id': 'WikiDatabase', 'name': 'server-with-metadata', 'OS-EXT-STS:task_state': None, 'image': {'id': 2, 'name': 'sample image'}, 'flavor': {'id': 1, 'name': '256 MB Server'}, 'hostId': '9e107d9d372bb6826bd81d3542a419d6', 'status': 'ACTIVE', 'accessIPv4': '192.0.2.0', 'accessIPv6': '::babe:4317:0A83', 'addresses': {'public': [{'version': 4, 'addr': '4.5.6.7'}, {'version': 4, 'addr': '5.6.9.8'}], 'private': [{'version': 4, 'addr': '10.13.12.13'}]}, 'metadata': {'test': '123', 'this': 'that'}}, {'id': 'InstanceInResize', 'name': 'server-with-metadata', 'OS-EXT-STS:task_state': 'resize_finish', 'image': {'id': 2, 'name': 'sample image'}, 'flavor': {'id': 1, 'name': '256 MB Server'}, 'hostId': '9e107d9d372bb6826bd81d3542a419d6', 'status': 'ACTIVE', 'accessIPv4': '192.0.2.0', 'accessIPv6': '::babe:4317:0A83', 'addresses': {'public': [{'version': 4, 'addr': '4.5.6.7'}, {'version': 4, 'addr': '5.6.9.8'}], 'private': [{'version': 4, 'addr': '10.13.12.13'}]}, 'metadata': {'test': '123', 'this': 'that'}}, {'id': 'InstanceInActive', 'name': 'server-with-metadata', 'OS-EXT-STS:task_state': 'active', 'image': {'id': 2, 'name': 'sample image'}, 'flavor': {'id': 1, 'name': '256 MB Server'}, 'hostId': '9e107d9d372bb6826bd81d3542a419d6', 'status': 'ACTIVE', 'accessIPv4': '192.0.2.0', 'accessIPv6': '::babe:4317:0A83', 'addresses': {'public': [{'version': 4, 'addr': '4.5.6.7'}, {'version': 4, 'addr': '5.6.9.8'}], 'private': [{'version': 4, 'addr': '10.13.12.13'}]}, 'metadata': {'test': '123', 'this': 'that'}}, {'id': 'AnotherServer', 'name': 'server-with-metadata', 'OS-EXT-STS:task_state': 'active', 'image': {'id': 2, 'name': 'sample image'}, 'flavor': {'id': 1, 'name': '256 MB Server'}, 'hostId': '9e107d9d372bb6826bd81d3542a419d6', 'status': 'ACTIVE', 'accessIPv4': '192.0.2.0', 'accessIPv6': '::babe:4317:0A83', 'addresses': {'public': [{'version': 4, 'addr': '4.5.6.7'}, {'version': 4, 'addr': '5.6.9.8'}], 'private': [{'version': 4, 'addr': '10.13.12.13'}]}, 'metadata': {'test': '123', 'this': 'that'}}]})