import datetime
import unittest
from aniso8601 import compat
from aniso8601.builders import (
from aniso8601.builders.python import (
from aniso8601.exceptions import (
from aniso8601.utcoffset import UTCOffset
def test_build_duration(self):
    testtuples = (({'PnY': '1', 'PnM': '2', 'PnD': '3', 'TnH': '4', 'TnM': '54', 'TnS': '6'}, datetime.timedelta(days=428, hours=4, minutes=54, seconds=6)), ({'PnY': '1', 'PnM': '2', 'PnD': '3', 'TnH': '4', 'TnM': '54', 'TnS': '6.5'}, datetime.timedelta(days=428, hours=4, minutes=54, seconds=6.5)), ({'PnY': '1', 'PnM': '2', 'PnD': '3'}, datetime.timedelta(days=428)), ({'PnY': '1', 'PnM': '2', 'PnD': '3.5'}, datetime.timedelta(days=428.5)), ({'TnH': '4', 'TnM': '54', 'TnS': '6.5'}, datetime.timedelta(hours=4, minutes=54, seconds=6.5)), ({'TnH': '1', 'TnM': '3', 'TnS': '11.858714'}, datetime.timedelta(hours=1, minutes=3, seconds=11, microseconds=858714)), ({'TnH': '4', 'TnM': '54', 'TnS': '28.512400'}, datetime.timedelta(hours=4, minutes=54, seconds=28, microseconds=512400)), ({'PnY': '1999.9999999999999999'}, datetime.timedelta(days=729999, seconds=86399, microseconds=999999)), ({'PnM': '1.9999999999999999'}, datetime.timedelta(days=59, hours=23, minutes=59, seconds=59, microseconds=999999)), ({'PnW': '1.9999999999999999'}, datetime.timedelta(days=13, hours=23, minutes=59, seconds=59, microseconds=999999)), ({'PnD': '1.9999999999999999'}, datetime.timedelta(days=1, hours=23, minutes=59, seconds=59, microseconds=999999)), ({'TnH': '14.9999999999999999'}, datetime.timedelta(hours=14, minutes=59, seconds=59, microseconds=999999)), ({'TnM': '0.00000000999'}, datetime.timedelta(0)), ({'TnM': '0.0000000999'}, datetime.timedelta(microseconds=5)), ({'TnS': '0.0000001'}, datetime.timedelta(0)), ({'TnS': '2.0000048'}, datetime.timedelta(seconds=2, microseconds=4)), ({'PnY': '1'}, datetime.timedelta(days=365)), ({'PnY': '1.5'}, datetime.timedelta(days=547.5)), ({'PnM': '1'}, datetime.timedelta(days=30)), ({'PnM': '1.5'}, datetime.timedelta(days=45)), ({'PnW': '1'}, datetime.timedelta(days=7)), ({'PnW': '1.5'}, datetime.timedelta(days=10.5)), ({'PnD': '1'}, datetime.timedelta(days=1)), ({'PnD': '1.5'}, datetime.timedelta(days=1.5)), ({'PnY': '0003', 'PnM': '06', 'PnD': '04', 'TnH': '12', 'TnM': '30', 'TnS': '05'}, datetime.timedelta(days=1279, hours=12, minutes=30, seconds=5)), ({'PnY': '0003', 'PnM': '06', 'PnD': '04', 'TnH': '12', 'TnM': '30', 'TnS': '05.5'}, datetime.timedelta(days=1279, hours=12, minutes=30, seconds=5.5)), ({'PnD': '999999999', 'TnH': '23', 'TnM': '59', 'TnS': '59.999999'}, datetime.timedelta.max), ({'PnY': '0001', 'PnM': '02', 'PnD': '03', 'TnH': '14', 'TnM': '43', 'TnS': '59.9999997'}, datetime.timedelta(days=428, hours=14, minutes=43, seconds=59, microseconds=999999)), ({'TnH': '36'}, datetime.timedelta(days=1, hours=12)))
    for testtuple in testtuples:
        result = PythonTimeBuilder.build_duration(**testtuple[0])
        self.assertEqual(result, testtuple[1])