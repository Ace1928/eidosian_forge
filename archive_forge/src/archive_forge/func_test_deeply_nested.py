import re
from pprint import PrettyPrinter
import numpy as np
from sklearn.utils._pprint import _EstimatorPrettyPrinter
from sklearn.linear_model import LogisticRegressionCV
from sklearn.pipeline import make_pipeline
from sklearn.base import BaseEstimator, TransformerMixin
from sklearn.feature_selection import SelectKBest, chi2
from sklearn import config_context
def test_deeply_nested(print_changed_only_false):
    rfe = RFE(RFE(RFE(RFE(RFE(RFE(RFE(LogisticRegression())))))))
    expected = "\nRFE(estimator=RFE(estimator=RFE(estimator=RFE(estimator=RFE(estimator=RFE(estimator=RFE(estimator=LogisticRegression(C=1.0,\n                                                                                                                     class_weight=None,\n                                                                                                                     dual=False,\n                                                                                                                     fit_intercept=True,\n                                                                                                                     intercept_scaling=1,\n                                                                                                                     l1_ratio=None,\n                                                                                                                     max_iter=100,\n                                                                                                                     multi_class='warn',\n                                                                                                                     n_jobs=None,\n                                                                                                                     penalty='l2',\n                                                                                                                     random_state=None,\n                                                                                                                     solver='warn',\n                                                                                                                     tol=0.0001,\n                                                                                                                     verbose=0,\n                                                                                                                     warm_start=False),\n                                                                                        n_features_to_select=None,\n                                                                                        step=1,\n                                                                                        verbose=0),\n                                                                          n_features_to_select=None,\n                                                                          step=1,\n                                                                          verbose=0),\n                                                            n_features_to_select=None,\n                                                            step=1, verbose=0),\n                                              n_features_to_select=None, step=1,\n                                              verbose=0),\n                                n_features_to_select=None, step=1, verbose=0),\n                  n_features_to_select=None, step=1, verbose=0),\n    n_features_to_select=None, step=1, verbose=0)"
    expected = expected[1:]
    assert rfe.__repr__() == expected