from __future__ import absolute_import, division, print_function
import re
from ansible.module_utils.six import iteritems
from ansible_collections.ansible.netcommon.plugins.module_utils.network.common.rm_base.network_template import (
class Bgp_globalTemplate(NetworkTemplate):

    def __init__(self, lines=None, module=None):
        prefix = {'set': 'set', 'remove': 'delete'}
        super(Bgp_globalTemplate, self).__init__(lines=lines, tmplt=self, prefix=prefix, module=module)
    PARSERS = [{'name': 'router', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }}', 'compval': 'as_number', 'result': {'as_number': '{{ as_num }}'}}, {'name': 'aggregate_address', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+aggregate-address\n                \\s+(?P<address>\\S+)\n                \\s*(?P<as_set>as-set)*\n                \\s*(?P<summary_only>summary-only)*\n                $', re.VERBOSE), 'setval': _tmplt_bgp_aggregate_address, 'remval': 'protocols bgp {{ as_number }} aggregate-address {{ aggregate_address.prefix }}', 'compval': 'aggregate_address', 'result': {'as_number': '{{ as_num }}', 'aggregate_address': [{'prefix': '{{ address }}', 'as_set': '{{ True if as_set is defined }}', 'summary_only': '{{ True if summary_only is defined }}'}]}}, {'name': 'maximum_paths', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+maximum-paths\n                \\s+(?P<path>ebgp|ibgp)\n                \\s+(?P<count>\\d+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_maximum_paths, 'remval': _tmplt_delete_bgp_maximum_paths, 'compval': 'maximum_paths', 'result': {'as_number': '{{ as_num }}', 'maximum_paths': [{'path': '{{ path }}', 'count': '{{ count }}'}]}}, {'name': 'neighbor.advertisement_interval', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+advertisement-interval\n                \\s+(?P<interval>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} advertisement-interval {{ neighbor.advertisement_interval }}', 'remval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} advertisement-interval', 'compval': 'neighbor.advertisement_interval', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'advertisement_interval': '{{ interval }}'}}}}, {'name': 'neighbor.allowas_in', 'getval': re.compile("\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+allowas-in\n                \\s+number\n                \\s+(?P<num>\\'\\d+\\')\n                *$", re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} allowas-in number {{ neighbor.allowas_in }}', 'compval': 'neighbor.allowas_in', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'allowas_in': '{{ count }}'}}}}, {'name': 'neighbor.as_override', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+as-override\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} as-override', 'compval': 'neighbor.as_override', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'as_override': '{{ True }}'}}}}, {'name': 'neighbor.attribute_unchanged.as_path', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+attribute-unchanged\n                \\s+(?P<val>as-path)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor_attribute_unchanged_as_path, 'compval': 'neighbor.attribute_unchanged', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'attribute_unchanged': {"{{ 'as_path' }}": '{{ True }}'}}}}}, {'name': 'neighbor.attribute_unchanged.med', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+attribute-unchanged\n                \\s+(?P<val>med)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor_attribute_unchanged_med, 'compval': 'neighbor.attribute_unchanged', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'attribute_unchanged': {"{{ 'med' }}": '{{ True }}'}}}}}, {'name': 'neighbor.attribute_unchanged.next_hop', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+attribute-unchanged\n                \\s+(?P<val>next-hop)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor_attribute_unchanged_next_hop, 'compval': 'neighbor.attribute_unchanged', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'attribute_unchanged': {"{{ 'next_hop' }}": '{{ True }}'}}}}}, {'name': 'neighbor.capability_dynamic', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+capability\n                \\s+(?P<dynamic>dynamic)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} capability dynamic', 'compval': 'neighbor.capability.dynamic', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'capability': {'dynamic': '{{ True if dynamic is defined}}'}}}}}, {'name': 'neighbor.capability_orf', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+capability\n                \\s+orf\n                \\s+prefix-list\n                \\s+(?P<orf>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} capability orf prefix-list {{ neighbor.capability.orf }}', 'compval': 'neighbor.capability.orf', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'capability': {'orf': '{{ orf }}'}}}}}, {'name': 'neighbor.default_originate', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+default-originate\n                \\s+route-map\n                \\s+(?P<map>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} default-originate route-map {{ neighbor.default_originate }}', 'compval': 'neighbor.advertisement_interval', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'default_originate': '{{ map }}'}}}}, {'name': 'neighbor.description', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+description\n                \\s+(?P<desc>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} description {{ neighbor.description }}', 'compval': 'neighbor.description', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'description': '{{ desc }}'}}}}, {'name': 'neighbor.disable_capability_negotiation', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+disable-capability-negotiation\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} disable-capability-negotiation', 'compval': 'neighbor.disable_capability_negotiation', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'disable_capability_negotiation': '{{ True }}'}}}}, {'name': 'neighbor.disable_connected_check', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+disable-connected-check\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} disable-connected-check', 'compval': 'neighbor.disable_connected_check', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'disable_connected_check': '{{ True }}'}}}}, {'name': 'neighbor.disable_send_community', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+disable-send-community\n                \\s+(?P<comm>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} disable-send-community {{ neighbor.disable_send_community }}', 'compval': 'neighbor.disable_send_community', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'disable_send_community': '{{ comm }}'}}}}, {'name': 'neighbor.distribute_list', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+distribute-list\n                \\s+(?P<action>export|import)\n                \\s+(?P<list>\\d+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor_distribute_list, 'compval': 'neighbor.distribute_list', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'distribute_list': [{'action': '{{ action }}', 'acl': '{{ list }}'}]}}}}, {'name': 'neighbor.ebgp_multihop', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+ebgp-multihop\n                \\s+(?P<hop>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} ebgp-multihop {{ neighbor.ebgp_multihop }}', 'compval': 'neighbor.ebgp_multihop', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'ebgp_multihop': '{{ hop|int }}'}}}}, {'name': 'neighbor.filter_list', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+filter-list\n                \\s+(?P<action>export|import)\n                \\s+(?P<list>\\S+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor_filter_list, 'compval': 'neighbor.filter_list', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'filter_list': [{'action': '{{ action }}', 'path_list': '{{ list }}'}]}}}}, {'name': 'neighbor.local_as', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+local-as\n                \\s+(?P<as>\\S+)\n                \\s+no-prepend\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} local-as {{ neighbor.local_as }} no-prepend', 'compval': 'neighbor.local_as', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'local_as': '{{ as }}'}}}}, {'name': 'neighbor.maximum_prefix', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+maximum-prefix\n                \\s+(?P<num>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} maximum-prefix {{ neighbor.maximum_prefix }}', 'compval': 'neighbor.maximum_prefix', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'maximum_prefix': '{{ num }}'}}}}, {'name': 'neighbor.nexthop_self', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+nexthop-self\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} nexthop-self', 'compval': 'neighbor.nexthop_self', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'nexthop_self': '{{ True }}'}}}}, {'name': 'neighbor.override_capability', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+override-capability\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} override-capability', 'compval': 'neighbor.override_capability', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'override_capability': '{{ True }}'}}}}, {'name': 'neighbor.passive', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+passive\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} nexthop-self', 'compval': 'neighbor.passive', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'passive': '{{ True }}'}}}}, {'name': 'neighbor.password', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+password\n                \\s+(?P<pwd>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} password {{ neighbor.password }}', 'compval': 'neighbor.password', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'password': '{{ pwd }}'}}}}, {'name': 'neighbor.peer_group_name', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+peer-group\n                \\s+(?P<name>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} peer-group {{ neighbor.peer_group_name }}', 'compval': 'neighbor.peer_group_name', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'peer_group_name': '{{ name }}'}}}}, {'name': 'neighbor.port', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+port\n                \\s+(?P<num>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} port {{ neighbor.port }}', 'compval': 'neighbor.port', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'port': '{{ num|int }}'}}}}, {'name': 'neighbor.prefix_list', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+prefix-list\n                \\s+(?P<action>export|import)\n                \\s+(?P<list>\\S+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor_prefix_list, 'compval': 'neighbor.prefix_list', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'prefix_list': [{'action': '{{ action }}', 'prefix_list': '{{ list }}'}]}}}}, {'name': 'neighbor.remote_as', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+remote-as\n                \\s+(?P<num>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} remote-as {{ neighbor.remote_as }}', 'compval': 'neighbor.remote_as', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'remote_as': '{{ num|int }}'}}}}, {'name': 'neighbor.remove_private_as', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+remote-private-as\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} remote-private-as', 'compval': 'neighbor.remove_private_as', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'remove_private_as': '{{ True }}'}}}}, {'name': 'neighbor.route_map', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+route-map\n                \\s+(?P<action>export|import)\n                \\s+(?P<map>\\S+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor_route_map, 'compval': 'neighbor.route_map', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'route_map': [{'action': '{{ action }}', 'route_map': '{{ map }}'}]}}}}, {'name': 'neighbor.route_reflector_client', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+route-reflector-client\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} router-reflector-client', 'compval': 'neighbor.route_reflector_client', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'route_reflector_client': '{{ True }}'}}}}, {'name': 'neighbor.route_server_client', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+route-server-client\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} route-server-client', 'compval': 'neighbor.route_server_client', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'route_server_client': '{{ True }}'}}}}, {'name': 'neighbor.shutdown', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+shutdown\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} shutdown', 'compval': 'neighbor.shutdown', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'shutdown': '{{ True }}'}}}}, {'name': 'neighbor.soft_reconfiguration', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+soft-reconfiguration\n                \\s+inbound\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} soft-reconfiguration', 'compval': 'neighbor.soft_reconfiguration', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'soft_reconfiguration': '{{ True }}'}}}}, {'name': 'neighbor.strict_capability_match', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+strict-capability-match\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} strict-capability-match', 'compval': 'neighbor.strict_capability_match', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'strict_capability_match': '{{ True }}'}}}}, {'name': 'neighbor.unsuppress_map', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+unsuppress-map\n                \\s+(?P<map>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} unsuppress-map {{ neighbor.unsuppress_map }}', 'compval': 'neighbor.unsuppress_map', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'unsuppress_map': '{{ map }}'}}}}, {'name': 'neighbor.update_source', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+update-source\n                \\s+(?P<src>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} update-source {{ neighbor.update_source }}', 'compval': 'neighbor.update_source', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'update_source': '{{ src }}'}}}}, {'name': 'neighbor.weight', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+weight\n                \\s+(?P<num>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} weight {{ neighbor.weight }}', 'compval': 'neighbor.weight', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'weight': '{{ num }}'}}}}, {'name': 'neighbor.ttl_security', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+ttl-security\n                \\s+(?P<ttl>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} ttl-security {{ neighbor.ttl_security }}', 'compval': 'neighbor.ttl_security', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'ttl_security': '{{ ttl|int }}'}}}}, {'name': 'neighbor.timers', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+neighbor\n                \\s+(?P<address>\\S+)\n                \\s+timers\n                \\s+(?P<type>connect|holdtime|keepalive)\n                \\s+(?P<sec>\\S+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_neighbor_timers, 'remval': 'protocols bgp {{ as_number }} neighbor {{ neighbor.address }} timers', 'compval': 'neighbor.timers', 'result': {'as_number': '{{ as_num }}', 'neighbor': {'{{ address }}': {'address': '{{ address }}', 'timers': {'{{ type }}': '{{ sec }}'}}}}}, {'name': 'network.backdoor', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+network\n                \\s+(?P<address>\\S+)\n                \\s+backdoor\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} network {{ network.address }} backdoor', 'remval': 'protocols bgp {{ as_number }} network {{ network.address }}', 'compval': 'network.backdoor', 'result': {'as_number': '{{ as_num }}', 'network': [{'address': '{{ address }}', 'backdoor': '{{ True }}'}]}}, {'name': 'network.route_map', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+network\n                \\s+(?P<address>\\S+)\n                \\s+route-map\n                \\s+(?P<map>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} network {{ network.address }} route-map {{ network.route_map }}', 'remval': 'protocols bgp {{ as_number }} network {{ network.address }}', 'compval': 'network.route_map', 'result': {'as_number': '{{ as_num }}', 'network': [{'address': '{{ address }}', 'route_map': '{{ map }}'}]}}, {'name': 'redistribute.metric', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+redistribute\n                \\s+(?P<proto>\\S+)\n                \\s+metric\n                \\s+(?P<val>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} redistribute {{ redistribute.protocol }} metric {{ redistribute.metric }}', 'remval': _tmplt_bgp_delete_redistribute, 'compval': 'redistribute', 'result': {'as_number': '{{ as_num }}', 'redistribute': [{'protocol': '{{ proto }}', 'metric': '{{ val|int }}'}]}}, {'name': 'redistribute.route_map', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+redistribute\n                \\s+(?P<proto>\\S+)\n                \\s+route-map\n                \\s+(?P<val>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} redistribute {{ redistribute.protocol }} route-map {{ redistribute.route_map }}', 'remval': _tmplt_bgp_delete_redistribute, 'compval': 'redistribute', 'result': {'as_number': '{{ as_num }}', 'redistribute': [{'protocol': '{{ proto }}', 'route_map': '{{ val }}'}]}}, {'name': 'timers', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+timers\n                \\s+(?P<type>\\S+)\n                \\s+(?P<val>\\S+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_timers, 'remval': 'protocols bgp {{ as_number }} timers', 'compval': 'timers', 'result': {'as_number': '{{ as_num }}', 'timers': {'{{ type }}': '{{ val }}'}}}, {'name': 'bgp_params.always_compare_med', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+always-compare-med\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters always-compare-med', 'compval': 'bgp_params.always_compare_med', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'always_compare_med': '{{ True }}'}}}, {'name': 'bgp_params.bestpath.as_path', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+bestpath\n                \\s+as-path\n                \\s+(?P<path>confed|ignore)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters bestpath as-path {{ bgp_params.bestpath.as_path }}', 'compval': 'bgp_params.bestpath.as_path', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'bestpath': {'as_path': '{{ path }}'}}}}, {'name': 'bgp_params.bestpath.compare_routerid', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+bestpath\n                \\s+compare-routerid\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters bestpath compare-routerid', 'compval': 'bgp_params.bestpath.compare_routerid', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'bestpath': {'compare_routerid': '{{ True }}'}}}}, {'name': 'bgp_params.bestpath.med', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+bestpath\n                \\s+med\n                \\s+(?P<path>confed|missing-as-worst)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters bestpath med {{ bestpath.med }}', 'compval': 'bgp_params.bestpath.med', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'bestpath': {'med': '{{ path }}'}}}}, {'name': 'bgp_params.cluster_id', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+cluster-id\n                \\s+(?P<id>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters cluster-id {{ bgp_params.cluster_id }}', 'compval': 'bgp_params.cluster_id', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'cluster_id': '{{ id }}'}}}, {'name': 'bgp_params.confederation', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+confederation\n                \\s+(?P<type>identifier|peers)\n                \\s+(?P<val>\\S+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_params_confederation, 'compval': 'bgp_params.always_compare_med', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'confederation': [{'peers': "{{ val if type == 'peers' }}", 'identifier': "{{ val if type == 'identifier' }}"}]}}}, {'name': 'bgp_params.dampening_half_life', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+dampening\n                \\s+half-life\n                \\s+(?P<val>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters dampening half-life {{ bgp_params.dampening.half_life}}', 'compval': 'bgp_params.dampening.half_life', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'dampening': {'half_life': '{{ val }}'}}}}, {'name': 'bgp_params.dampening_max_suppress_time', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+dampening\n                \\s+max-suppress-time\n                \\s+(?P<val>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters dampening max-suppress-time {{ bgp_params.dampening.max_suppress_time}}', 'compval': 'bgp_params.dampening.max_suppress_time', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'dampening': {'max_suppress_time': '{{ val }}'}}}}, {'name': 'bgp_params.dampening_re_use', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+dampening\n                \\s+re-use\n                \\s+(?P<val>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters dampening re-use {{ bgp_params.dampening.re_use}}', 'compval': 'bgp_params.dampening.re_use', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'dampening': {'re_use': '{{ val }}'}}}}, {'name': 'bgp_params.dampening_start_suppress_time', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+dampening\n                \\s+start-suppress-time\n                \\s+(?P<val>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters dampening start-suppress-time {{ bgp_params.dampening.start_suppress_time}}', 'compval': 'bgp_params.dampening.start_suppress_time', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'dampening': {'start_suppress_time': '{{ val }}'}}}}, {'name': 'bgp_params.default', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+default\n                \\s*(?P<no_ipv4_unicast>no-ipv4-unicast)*\n                \\s*(?P<local_pref>local-pref\\s\\S+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_params_default, 'remval': 'protocols bgp {{ as_number }} parameters default', 'compval': 'bgp_params.default', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'default': {'no_ipv4_unicast': '{{ True if no_ipv4_unicast is defined }}', 'local_pref': '{{ local_pref.split( )[1] if local_pref is defined }}'}}}}, {'name': 'bgp_params.deterministic_med', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+deterministic-med\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters deterministic-med', 'compval': 'bgp_params.deterministic_med', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'deterministic_med': '{{ True }}'}}}, {'name': 'bgp_params.disbale_network_import_check', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+disable-network-import-check\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters disable-network-import-check', 'compval': 'bgp_params.disable_network_import_check', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'disable_network_import_check': '{{ True }}'}}}, {'name': 'bgp_params.distance.prefix', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+distance\\sprefix\n                \\s+(?P<prefix>\\S+)\n                \\s+distance\n                \\s+(?P<val>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters distance prefix {{ bgp_params.distance.prefix }} distance {{ bgp_params.distance.value }}', 'compval': 'bgp_params.distance.prefix', 'remval': 'protocols bgp {{ as_number }} parameters distance prefix', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'distance': [{'prefix': '{{ prefix }}', 'value': '{{ val }}'}]}}}, {'name': 'bgp_params.distance.global', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+distance\\sglobal\n                \\s+(?P<type>\\S+)\n                \\s+(?P<val>\\S+)\n                *$', re.VERBOSE), 'setval': _tmplt_bgp_params_distance, 'remval': 'protocols bgp {{ as_number }} parameters distance global', 'compval': 'bgp_params.distance', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'distance': [{'type': '{{ type }}', 'value': '{{ val }}'}]}}}, {'name': 'bgp_params.enforce_first_as', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+enforce-first-as\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters enforce-first-as', 'compval': 'bgp_params.enforce_first_as', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'enforce_first_as': '{{ True }}'}}}, {'name': 'bgp_params.graceful_restart', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+graceful-restart\\s+stalepath-time\n                \\s+(?P<val>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters graceful-restart stalepath-time {{ bgp_params.graceful_restart }}', 'compval': 'bgp_params.graceful_restart', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'graceful_restart': '{{ val }}'}}}, {'name': 'bgp_params.log_neighbor_changes', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+log-neighbor-changes\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters log-neighbor-changes', 'compval': 'bgp_params.log_neighbor_changes', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'log_neighbor_changes': '{{ True }}'}}}, {'name': 'bgp_params.no_client_to_client_reflection', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+no-client-to-client-reflection\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters no-client-to-client-reflection', 'compval': 'bgp_params.log_neighbor_changes', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'no_client_to_client_reflection': '{{ True }}'}}}, {'name': 'bgp_params.no_fast_external_failover', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+no-fast-external-failover\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters no-fast-external-failover', 'compval': 'bgp_params.no_fast_external_failover', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'no_fast_external_failover': '{{ True }}'}}}, {'name': 'bgp_params.routerid', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+router-id\n                \\s+(?P<id>\\S+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters router-id {{ bgp_params.router_id }}', 'compval': 'bgp_params.router_id', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'router_id': '{{ id }}'}}}, {'name': 'bgp_params.scan_time', 'getval': re.compile('\n                ^set\n                \\s+protocols\n                \\s+bgp\n                \\s+(?P<as_num>\\d+)\n                \\s+parameters\n                \\s+scan-time\n                \\s+(?P<sec>\\d+)\n                *$', re.VERBOSE), 'setval': 'protocols bgp {{ as_number }} parameters scan-time {{ bgp_params.scan_time }}', 'compval': 'bgp_params.scan_time', 'result': {'as_number': '{{ as_num }}', 'bgp_params': {'scan_time': '{{ val }}'}}}]