import os
import unittest
from pygame.tests import test_utils
from pygame.tests.test_utils import (
import pygame
from pygame.locals import *
from pygame.bufferproxy import BufferProxy
import platform
import gc
import weakref
import ctypes
def test_src_alpha_compatible_16bit(self):
    """ "What pygame 1.9.x did". Is the alpha blitter as before?"""
    results_expected = {((0, 255, 255), (0, 255, 0)): (0, 255, 255, 255), ((0, 255, 255), (1, 254, 1)): (0, 255, 255, 255), ((0, 255, 255), (65, 199, 65)): (17, 255, 255, 255), ((0, 255, 255), (126, 127, 126)): (51, 255, 204, 255), ((0, 255, 255), (127, 126, 127)): (51, 255, 204, 255), ((0, 255, 255), (199, 65, 199)): (170, 255, 102, 255), ((0, 255, 255), (254, 1, 254)): (255, 255, 0, 255), ((0, 255, 255), (255, 0, 255)): (255, 255, 0, 255), ((1, 254, 254), (0, 255, 0)): (0, 255, 255, 255), ((1, 254, 254), (1, 254, 1)): (0, 255, 255, 255), ((1, 254, 254), (65, 199, 65)): (17, 255, 255, 255), ((1, 254, 254), (126, 127, 126)): (51, 255, 204, 255), ((1, 254, 254), (127, 126, 127)): (51, 255, 204, 255), ((1, 254, 254), (199, 65, 199)): (170, 255, 102, 255), ((1, 254, 254), (254, 1, 254)): (255, 255, 0, 255), ((1, 254, 254), (255, 0, 255)): (255, 255, 0, 255), ((65, 199, 199), (0, 255, 0)): (68, 255, 204, 204), ((65, 199, 199), (1, 254, 1)): (68, 255, 204, 204), ((65, 199, 199), (65, 199, 65)): (68, 255, 204, 221), ((65, 199, 199), (126, 127, 126)): (85, 255, 170, 238), ((65, 199, 199), (127, 126, 127)): (85, 255, 170, 238), ((65, 199, 199), (199, 65, 199)): (187, 255, 85, 255), ((65, 199, 199), (254, 1, 254)): (255, 255, 0, 255), ((65, 199, 199), (255, 0, 255)): (255, 255, 0, 255), ((126, 127, 127), (0, 255, 0)): (119, 255, 119, 119), ((126, 127, 127), (1, 254, 1)): (119, 255, 119, 119), ((126, 127, 127), (65, 199, 65)): (102, 255, 136, 153), ((126, 127, 127), (126, 127, 126)): (119, 255, 119, 187), ((126, 127, 127), (127, 126, 127)): (119, 255, 119, 187), ((126, 127, 127), (199, 65, 199)): (187, 255, 68, 238), ((126, 127, 127), (254, 1, 254)): (255, 255, 0, 255), ((126, 127, 127), (255, 0, 255)): (255, 255, 0, 255), ((127, 126, 126), (0, 255, 0)): (119, 255, 119, 119), ((127, 126, 126), (1, 254, 1)): (119, 255, 119, 119), ((127, 126, 126), (65, 199, 65)): (102, 255, 136, 153), ((127, 126, 126), (126, 127, 126)): (119, 255, 119, 187), ((127, 126, 126), (127, 126, 127)): (119, 255, 119, 187), ((127, 126, 126), (199, 65, 199)): (187, 255, 68, 238), ((127, 126, 126), (254, 1, 254)): (255, 255, 0, 255), ((127, 126, 126), (255, 0, 255)): (255, 255, 0, 255), ((199, 65, 65), (0, 255, 0)): (204, 255, 68, 68), ((199, 65, 65), (1, 254, 1)): (204, 255, 68, 68), ((199, 65, 65), (65, 199, 65)): (170, 255, 102, 119), ((199, 65, 65), (126, 127, 126)): (170, 255, 85, 153), ((199, 65, 65), (127, 126, 127)): (170, 255, 85, 153), ((199, 65, 65), (199, 65, 199)): (204, 255, 68, 221), ((199, 65, 65), (254, 1, 254)): (255, 255, 0, 255), ((199, 65, 65), (255, 0, 255)): (255, 255, 0, 255), ((254, 1, 1), (0, 255, 0)): (0, 255, 255, 0), ((254, 1, 1), (1, 254, 1)): (0, 255, 255, 0), ((254, 1, 1), (65, 199, 65)): (68, 255, 204, 68), ((254, 1, 1), (126, 127, 126)): (119, 255, 119, 119), ((254, 1, 1), (127, 126, 127)): (119, 255, 119, 119), ((254, 1, 1), (199, 65, 199)): (204, 255, 68, 204), ((254, 1, 1), (254, 1, 254)): (255, 255, 0, 255), ((254, 1, 1), (255, 0, 255)): (255, 255, 0, 255), ((255, 0, 0), (0, 255, 0)): (0, 255, 255, 0), ((255, 0, 0), (1, 254, 1)): (0, 255, 255, 0), ((255, 0, 0), (65, 199, 65)): (68, 255, 204, 68), ((255, 0, 0), (126, 127, 126)): (119, 255, 119, 119), ((255, 0, 0), (127, 126, 127)): (119, 255, 119, 119), ((255, 0, 0), (199, 65, 199)): (204, 255, 68, 204), ((255, 0, 0), (254, 1, 254)): (255, 255, 0, 255), ((255, 0, 0), (255, 0, 255)): (255, 255, 0, 255)}
    nums = [0, 1, 65, 126, 127, 199, 254, 255]
    results = {}
    for dst_r, dst_b, dst_a in zip(nums, reversed(nums), reversed(nums)):
        for src_r, src_b, src_a in zip(nums, reversed(nums), nums):
            with self.subTest(src_r=src_r, src_b=src_b, src_a=src_a, dest_r=dst_r, dest_b=dst_b, dest_a=dst_a):
                src_surf = pygame.Surface((66, 66), pygame.SRCALPHA, 16)
                src_surf.fill((src_r, 255, src_b, src_a))
                dest_surf = pygame.Surface((66, 66), pygame.SRCALPHA, 16)
                dest_surf.fill((dst_r, 255, dst_b, dst_a))
                dest_surf.blit(src_surf, (0, 0))
                key = ((dst_r, dst_b, dst_a), (src_r, src_b, src_a))
                results[key] = dest_surf.get_at((65, 33))
                self.assertEqual(results[key], results_expected[key])
    self.assertEqual(results, results_expected)