from __future__ import absolute_import
from __future__ import division
from __future__ import unicode_literals
from apitools.base.py import exceptions as apitools_exceptions
from googlecloudsdk.api_lib.container import api_adapter
from googlecloudsdk.api_lib.container import kubeconfig as kconfig
from googlecloudsdk.api_lib.container import util
from googlecloudsdk.calliope import actions
from googlecloudsdk.calliope import arg_parsers
from googlecloudsdk.calliope import base
from googlecloudsdk.calliope import exceptions
from googlecloudsdk.command_lib.container import container_command_util
from googlecloudsdk.command_lib.container import flags
from googlecloudsdk.core import log
from googlecloudsdk.core.console import console_attr
from googlecloudsdk.core.console import console_io
from six.moves import input  # pylint: disable=redefined-builtin
def _AddMutuallyExclusiveArgs(mutex_group, release_track):
    """Add all arguments that need to be mutually exclusive from each other."""
    if release_track == base.ReleaseTrack.ALPHA:
        mutex_group.add_argument('--update-addons', type=arg_parsers.ArgDict(spec=dict({api_adapter.INGRESS: _ParseAddonDisabled, api_adapter.HPA: _ParseAddonDisabled, api_adapter.DASHBOARD: _ParseAddonDisabled, api_adapter.NETWORK_POLICY: _ParseAddonDisabled, api_adapter.ISTIO: _ParseAddonDisabled, api_adapter.APPLICATIONMANAGER: _ParseAddonDisabled, api_adapter.BACKUPRESTORE: _ParseAddonDisabled, api_adapter.CLOUDBUILD: _ParseAddonDisabled, api_adapter.NODELOCALDNS: _ParseAddonDisabled, api_adapter.GCEPDCSIDRIVER: _ParseAddonDisabled, api_adapter.GCPFILESTORECSIDRIVER: _ParseAddonDisabled, api_adapter.GCSFUSECSIDRIVER: _ParseAddonDisabled, api_adapter.STATEFULHA: _ParseAddonDisabled, api_adapter.PARALLELSTORECSIDRIVER: _ParseAddonDisabled, api_adapter.CONFIGCONNECTOR: _ParseAddonDisabled}, **{k: _ParseAddonDisabled for k in api_adapter.CLOUDRUN_ADDONS})), dest='disable_addons', metavar='ADDON=ENABLED|DISABLED', help='Cluster addons to enable or disable. Options are\n{hpa}=ENABLED|DISABLED\n{ingress}=ENABLED|DISABLED\n{dashboard}=ENABLED|DISABLED\n{istio}=ENABLED|DISABLED\n{backuprestore}=ENABLED|DISABLED\n{network_policy}=ENABLED|DISABLED\n{cloudrun}=ENABLED|DISABLED\n{cloudbuild}=ENABLED|DISABLED\n{configconnector}=ENABLED|DISABLED\n{nodelocaldns}=ENABLED|DISABLED\n{gcepdcsidriver}=ENABLED|DISABLED\n{gcpfilestoredriver}=ENABLED|DISABLED\n{gcsfusecsidriver}=ENABLED|DISABLED'.format(hpa=api_adapter.HPA, ingress=api_adapter.INGRESS, dashboard=api_adapter.DASHBOARD, network_policy=api_adapter.NETWORK_POLICY, istio=api_adapter.ISTIO, backuprestore=api_adapter.BACKUPRESTORE, cloudrun=api_adapter.CLOUDRUN_ADDONS[0], cloudbuild=api_adapter.CLOUDBUILD, configconnector=api_adapter.CONFIGCONNECTOR, nodelocaldns=api_adapter.NODELOCALDNS, gcepdcsidriver=api_adapter.GCEPDCSIDRIVER, gcpfilestoredriver=api_adapter.GCPFILESTORECSIDRIVER, gcsfusecsidriver=api_adapter.GCSFUSECSIDRIVER))
    elif release_track == base.ReleaseTrack.BETA:
        mutex_group.add_argument('--update-addons', type=arg_parsers.ArgDict(spec=dict({api_adapter.INGRESS: _ParseAddonDisabled, api_adapter.HPA: _ParseAddonDisabled, api_adapter.DASHBOARD: _ParseAddonDisabled, api_adapter.NETWORK_POLICY: _ParseAddonDisabled, api_adapter.ISTIO: _ParseAddonDisabled, api_adapter.APPLICATIONMANAGER: _ParseAddonDisabled, api_adapter.BACKUPRESTORE: _ParseAddonDisabled, api_adapter.NODELOCALDNS: _ParseAddonDisabled, api_adapter.GCEPDCSIDRIVER: _ParseAddonDisabled, api_adapter.GCPFILESTORECSIDRIVER: _ParseAddonDisabled, api_adapter.GCSFUSECSIDRIVER: _ParseAddonDisabled, api_adapter.STATEFULHA: _ParseAddonDisabled, api_adapter.PARALLELSTORECSIDRIVER: _ParseAddonDisabled, api_adapter.CONFIGCONNECTOR: _ParseAddonDisabled}, **{k: _ParseAddonDisabled for k in api_adapter.CLOUDRUN_ADDONS})), dest='disable_addons', metavar='ADDON=ENABLED|DISABLED', help='Cluster addons to enable or disable. Options are\n{hpa}=ENABLED|DISABLED\n{ingress}=ENABLED|DISABLED\n{dashboard}=ENABLED|DISABLED\n{istio}=ENABLED|DISABLED\n{backuprestore}=ENABLED|DISABLED\n{network_policy}=ENABLED|DISABLED\n{cloudrun}=ENABLED|DISABLED\n{configconnector}=ENABLED|DISABLED\n{nodelocaldns}=ENABLED|DISABLED\n{gcepdcsidriver}=ENABLED|DISABLED\n{gcpfilestoredriver}=ENABLED|DISABLED\n{gcsfusecsidriver}=ENABLED|DISABLED'.format(hpa=api_adapter.HPA, ingress=api_adapter.INGRESS, dashboard=api_adapter.DASHBOARD, network_policy=api_adapter.NETWORK_POLICY, istio=api_adapter.ISTIO, backuprestore=api_adapter.BACKUPRESTORE, cloudrun=api_adapter.CLOUDRUN_ADDONS[0], configconnector=api_adapter.CONFIGCONNECTOR, nodelocaldns=api_adapter.NODELOCALDNS, gcepdcsidriver=api_adapter.GCEPDCSIDRIVER, gcpfilestoredriver=api_adapter.GCPFILESTORECSIDRIVER, gcsfusecsidriver=api_adapter.GCSFUSECSIDRIVER))
    else:
        mutex_group.add_argument('--update-addons', type=arg_parsers.ArgDict(spec=dict({api_adapter.INGRESS: _ParseAddonDisabled, api_adapter.HPA: _ParseAddonDisabled, api_adapter.DASHBOARD: _ParseAddonDisabled, api_adapter.NETWORK_POLICY: _ParseAddonDisabled, api_adapter.BACKUPRESTORE: _ParseAddonDisabled, api_adapter.NODELOCALDNS: _ParseAddonDisabled, api_adapter.CONFIGCONNECTOR: _ParseAddonDisabled, api_adapter.GCEPDCSIDRIVER: _ParseAddonDisabled, api_adapter.GCPFILESTORECSIDRIVER: _ParseAddonDisabled, api_adapter.GCSFUSECSIDRIVER: _ParseAddonDisabled, api_adapter.STATEFULHA: _ParseAddonDisabled, api_adapter.PARALLELSTORECSIDRIVER: _ParseAddonDisabled}, **{k: _ParseAddonDisabled for k in api_adapter.CLOUDRUN_ADDONS})), dest='disable_addons', metavar='ADDON=ENABLED|DISABLED', help='Cluster addons to enable or disable. Options are\n{hpa}=ENABLED|DISABLED\n{ingress}=ENABLED|DISABLED\n{dashboard}=ENABLED|DISABLED\n{network_policy}=ENABLED|DISABLED\n{backuprestore}=ENABLED|DISABLED\n{cloudrun}=ENABLED|DISABLED\n{configconnector}=ENABLED|DISABLED\n{nodelocaldns}=ENABLED|DISABLED\n{gcepdcsidriver}=ENABLED|DISABLED\n{gcpfilestoredriver}=ENABLED|DISABLED\n{gcsfusecsidriver}=ENABLED|DISABLED\n'.format(hpa=api_adapter.HPA, ingress=api_adapter.INGRESS, dashboard=api_adapter.DASHBOARD, network_policy=api_adapter.NETWORK_POLICY, backuprestore=api_adapter.BACKUPRESTORE, cloudrun=api_adapter.CLOUDRUN_ADDONS[0], configconnector=api_adapter.CONFIGCONNECTOR, nodelocaldns=api_adapter.NODELOCALDNS, gcepdcsidriver=api_adapter.GCEPDCSIDRIVER, gcpfilestoredriver=api_adapter.GCPFILESTORECSIDRIVER, gcsfusecsidriver=api_adapter.GCSFUSECSIDRIVER))
    mutex_group.add_argument('--generate-password', action='store_true', default=None, help='Ask the server to generate a secure password and use that as the basic auth password, keeping the existing username.')
    mutex_group.add_argument('--set-password', action='store_true', default=None, help='Set the basic auth password to the specified value, keeping the existing username.')
    flags.AddBasicAuthFlags(mutex_group)