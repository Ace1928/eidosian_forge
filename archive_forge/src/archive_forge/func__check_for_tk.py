import time
import threading
def _check_for_tk(self):

    def set_flag():
        self._have_loop = True
    if ip:
        self.after(10, set_flag)
        threading.Thread(target=self._tk_check).start()