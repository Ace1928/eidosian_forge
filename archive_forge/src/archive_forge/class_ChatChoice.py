import time
from dataclasses import asdict, dataclass, field
from typing import List, Literal, Optional
from mlflow.types.schema import Array, ColSpec, DataType, Object, Property, Schema
@dataclass
class ChatChoice(_BaseDataclass):
    """
    A single chat response generated by the model.

    Args:
        index (int): The index of the response in the list of responses.
        message (:py:class:`ChatMessage`): The message that was generated.
        finish_reason (str): The reason why generation stopped.
    """
    index: int
    message: ChatMessage
    finish_reason: str

    def __post_init__(self):
        self._validate_field('index', int, True)
        self._validate_field('finish_reason', str, True)
        if isinstance(self.message, dict):
            self.message = ChatMessage(**self.message)
        if not isinstance(self.message, ChatMessage):
            raise ValueError(f'Expected `message` to be of type ChatMessage or dict, got {type(self.message)}')