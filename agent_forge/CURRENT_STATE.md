# Current State: agent_forge

**Date**: 2026-01-25
**Status**: Production / Core System
**Version**: E3 (Evolution 3)

## ğŸ“Š Metrics

| Metric | Value |
|--------|-------|
| **Python Files** | 50+ |
| **Lines of Code** | ~5,000 |
| **Test Files** | 25 (~100+ tests) |
| **Test Coverage** | ~70% |
| **Dependencies** | pyyaml, rich, typer, sqlite3 |

## ğŸ—ï¸ Architecture

Agent Forge is the **autonomous agent orchestration system** - the brain that coordinates planning, execution, and reflection for AI agents.

### Core Design

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AGENT FORGE                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    AgentForge     â”‚  â”‚      EidosianAgent           â”‚   â”‚
â”‚  â”‚  (Orchestrator)   â”‚  â”‚    (Main Agent Impl)         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚            â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                    CORE SYSTEMS                         â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  State   â”‚  Events  â”‚Scheduler â”‚  Sandbox â”‚ TaskMgr  â”‚ â”‚
â”‚  â”‚ (JSONL)  â”‚(EventBus)â”‚ (Loop)   â”‚(Isolation)â”‚ (Queue)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     Planners      â”‚  â”‚      SmolAgentSystem         â”‚   â”‚
â”‚  â”‚   (HTN, YAML)     â”‚  â”‚   (Mini-agent delegation)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ Key Components

| Component | Purpose | Status |
|-----------|---------|--------|
| **AgentForge** | Top-level orchestrator | âœ… |
| **EidosianAgent** | Main agent implementation | âœ… |
| **TaskManager** | Task queue + dependencies | âœ… |
| **SmolAgentSystem** | Mini-agent delegation | âœ… |
| **State/Journal** | JSONL persistence | âœ… |
| **EventBus** | Append-only events | âœ… |
| **Scheduler** | Loop with backoff | âœ… |
| **Sandbox** | Isolated execution | âœ… |
| **HTNPlanner** | Hierarchical planning | âœ… |
| **CLI Tools** | eidctl, eidosd, eidtop | âœ… |

## ğŸ”Œ Features

- **Goal-Oriented** - Goals â†’ Plans â†’ Steps â†’ Runs
- **Task Management** - Priority queue with dependencies
- **Event Sourcing** - Append-only JSONL journal
- **Process Isolation** - Sandboxed execution
- **TUI Monitoring** - Rich terminal interface

## ğŸ”Œ Integrations

| Integration | Status |
|-------------|--------|
| **eidos_mcp** | âœ… Transactional ops |
| **code_forge** | âœ… Code analysis |
| **llm_forge** | âœ… Model interface |
| **memory_forge** | âœ… Memory compression |

## ğŸ› Known Issues

- Split between `core/` and `src/` needs investigation
- Some tests may require Ollama running

---

**Last Verified**: 2026-01-25